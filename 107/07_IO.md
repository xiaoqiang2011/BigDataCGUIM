è³‡æ–™è®€å–èˆ‡åŒ¯å‡º
========================================================
author: æ›¾æ„å„’ Yi-Ju Tseng
autosize: true
font-family: 'Microsoft JhengHei'
navigation: slide

å°æ‡‰æ›¸æœ¬ç« ç¯€
========================================================
[5 è³‡æ–™è®€å–èˆ‡åŒ¯å‡º](http://yijutseng.github.io/DataScienceRBook/io.html)

å¤§ç¶±
====================================
- å¾æª”æ¡ˆåŒ¯å…¥
- å¾ç¶²è·¯åŒ¯å…¥
- å¾FacebookåŒ¯å…¥
- å¾TwitteråŒ¯å…¥
- å¾YouTubeåŒ¯å…¥
- è³‡æ–™åŒ¯å‡º

è³‡æ–™åˆ†ææ­¥é©Ÿ
====================================
- **è³‡æ–™åŒ¯å…¥** <-----æœ¬ç« ï¼
- **è³‡æ–™æ¸…æ´—è™•ç†**ä¸¦è½‰æ›ç‚ºTidy data
- **è³‡æ–™åˆ†æ**
- **è³‡æ–™å‘ˆç¾èˆ‡è¦–è¦ºåŒ–**

å¾æª”æ¡ˆåŒ¯å…¥
====================================
type:section
- Import DatasetåŠŸèƒ½ (RStudio)
- åˆ†éš”æ–‡å­—æª” .txt
- CSVæª”æ¡ˆ .csv
- Excelæª”æ¡ˆ .xls
- Rç‰©ä»¶ .rds
- Rç¨‹å¼ .R
- ç´”æ–‡å­—è³‡æ–™ (ç„¡åˆ†éš”)
- å…¶ä»–æ ¼å¼

Import DatasetåŠŸèƒ½ (RStudio)
====================================
é¸å–RStudioå››åˆ†å‰²è¦–çª—å³ä¸Šè§’çš„Environmentæ¨™ç±¤ï¼Œé¸æ“‡**Import Dataset**

![plot of chunk unnamed-chunk-1](figures/import.png)

Import DatasetåŠŸèƒ½ (RStudio)
====================================
- é¸å–`From CSV` or `From text (readr)` or `From text (base)`
- é»é¸`Browse`æŒ‰éˆ•é–‹å•Ÿæª”æ¡ˆé¸å–å™¨

![plot of chunk unnamed-chunk-2](figures/csv.png)

Import DatasetåŠŸèƒ½ (RStudio)
====================================
- åˆ©ç”¨ä¸‹æ–¹`Import Options`çš„é¸é …å¾®èª¿åƒæ•¸
    - `Delimiter`åˆ†éš”ç¬¦è™Ÿ
    - `First Row as Names`é¦–åˆ—æ˜¯å¦ç‚ºæ¬„ä½åç¨±
    
![plot of chunk unnamed-chunk-3](figures/csv2.png)

Import DatasetåŠŸèƒ½ (RStudio)
====================================
type:alert
incremental:true

- æ“ä½œ[ç¯„ä¾‹æª”æ¡ˆ](https://raw.githubusercontent.com/CGUIM-BigDataAnalysis/BigDataCGUIM/master/104/POLIO_Incidence.csv)
- è‹¥åŒ¯å…¥çš„æª”æ¡ˆç‚º**tabåˆ†éš”æ–‡å­—æª”**? è©²å¦‚ä½•èª¿æ•´åƒæ•¸ï¼Ÿ

åˆ†éš”æ–‡å­—æª” .txt
====================================
type:sub-section

- `readr` packageæä¾›å®Œæ•´çš„æ–‡å­—æª”è®€å–åŠŸèƒ½
- å„è®€å–å‡½æ•¸çš„ç¬¬ä¸€å€‹åƒæ•¸é€šå¸¸ç‚º**æª”æ¡ˆè·¯å¾‘èˆ‡åç¨±**
- `read_delim()`å‡½æ•¸ï¼šç”¨åˆ†éš”ç¬¦è™Ÿåˆ†éš”çš„æ–‡å­—æª”æ¡ˆ
    - `delim`=`\t`ï¼Œtabåˆ†éš”æª”æ¡ˆ
    - `col_names`ï¼šTRUEä»£è¡¨è³‡æ–™å…§æœ‰åŒ…å«æ¬„ä½åç¨±(é¦–åˆ—)
        - å¦‚æœç‚ºFALSEï¼Œæ¬„ä½åç¨±å‰‡æœƒè¢«è¨­å®šç‚º X1, X2, X3 ...
    
TABåˆ†éš”æ–‡å­—æª” .txt
====================================

```r
library(readr) 
#ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰éœ€è¦å®‰è£ install.packages("readr")
dataset <- read_delim("æª”æ¡ˆè·¯å¾‘èˆ‡åç¨±", delim="\t")
```

CSVæª”æ¡ˆ .csv
====================================
type:sub-section
- `readr` package
- `read_csv()`

```r
library(readr)
#ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰éœ€è¦å®‰è£ install.packages("readr")
dataset <- read_csv("æª”æ¡ˆè·¯å¾‘èˆ‡åç¨±")
```


Excelæª”æ¡ˆ .xls
====================================
type:sub-section
- `readxl` package
- `read_excel()`å‡½æ•¸
    - `col_names`åƒæ•¸
    - `sheet`åƒæ•¸è¨­å®šè¦è®€å–çš„å·¥ä½œè¡¨(sheet)

```r
library(readxl)
#ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰éœ€è¦å®‰è£ install.packages("readxl")
dataset <- read_excel("æª”æ¡ˆè·¯å¾‘èˆ‡åç¨±")
```

æª”æ¡ˆåŒ¯å…¥ç·´ç¿’
====================================
type:alert
incremental:true

- ä¸‹è¼‰[ç¯„ä¾‹CSVæª”æ¡ˆ](https://raw.githubusercontent.com/yijutseng/BigDataCGUIM/master/files/opendata10401.csv)ï¼Œä¸¦åœ¨RStudioåŒ¯å…¥
    - æ–¹æ³•ä¸€
    - æ–¹æ³•äºŒ
- åŒ¯å…¥å¾Œï¼Œ**æª¢æŸ¥**åŒ¯å…¥çš„è³‡æ–™ï¼Œè³‡æ–™å…§æœ‰å¹¾ç­†è§€å¯Ÿå€¼ï¼Ÿæ¯ç­†è§€å¯Ÿå€¼ä¸­æœ‰å¹¾å€‹æ¬„ä½ï¼Ÿ

Rç‰©ä»¶ .rds
====================================
type:sub-section
å¦‚æœåœ¨Rç¨‹å¼å…§è™•ç†å®Œè³‡æ–™å¾Œï¼Œå¿…é ˆå„²å­˜ä¸€ä»½è³‡æ–™ä»¥ä¾›å¾ŒçºŒåˆ†æï¼Œä½¿ç”¨**Rç‰©ä»¶**å„²å­˜æ˜¯æœ€ä½³çš„æ–¹å¼

- æª”æ¡ˆå°
- è®€å–å¿«é€Ÿ
- æ¨è–¦ä½¿ç”¨`readRDS()`å‡½æ•¸è®€å–RDSæª”æ¡ˆ
- [A better way of saving and loading objects in R](http://www.fromthebottomoftheheap.net/2012/04/01/saving-and-loading-r-objects/)

```r
dataset <- readRDS("æª”æ¡ˆè·¯å¾‘èˆ‡åç¨±")
```

Rç¨‹å¼ .R
====================================
type:sub-section
- `source`å‡½æ•¸
- è®€Rçš„Obejct or script, ä¸¦**åŸ·è¡Œ**
- **å¯¦éš›æ“ä½œç¯„ä¾‹**
    - æœ‰ä¸€ä»½example.Ræª”åœ¨å·¥ä½œç’°å¢ƒä¸­
    - ä¸€æ¬¡åŸ·è¡Œæª”æ¡ˆå…§æ‰€æœ‰RæŒ‡ä»¤

```r
source("example.R") 
```

ç´”æ–‡å­—è³‡æ–™ (ç„¡åˆ†éš”)
====================================
type:sub-section
`readLines`, é€è¡Œè®€å–æ–‡å­—è³‡æ–™

å…¶ä»–æ ¼å¼ (é€éè¼‰å…¥å¥—ä»¶)
====================================
type:sub-section

- MySQL `RMySQL`
- Weka `foreign`
- Stata `foreign`
- SPSS `Hmisc`
- SAS `Hmisc`
- GIS `rgdal`
- Images `jpeg`
- Music `tuneR`


å…¶ä»–è®€æª”æ³¨æ„äº‹é …
====================================
type:sub-section

è®€æª”çš„æ™‚å€™Ræœƒè‡ªå‹•:

- åˆ¤æ–·è¦è®€å¹¾è¡Œ
- åˆ¤æ–·æ¯å€‹åˆ—ï¼ˆColumnï¼‰çš„é¡åˆ¥
- æŠŠæ¬„ä½åŒ…èµ·ä¾†çš„ç¬¦è™Ÿ

å¦‚æœè®€å–æ™‚å·²æŒ‡å®š**Columné¡åˆ¥**ä»¥åŠ**æŠŠæ¬„ä½åŒ…èµ·ä¾†çš„ç¬¦è™Ÿ**ï¼Œè®€å–é€Ÿåº¦æœƒå¿«å¾ˆå¤šã€‚

å¾ç¶²è·¯åŒ¯å…¥
====================================
type:section

- Open Data
- XML å¯å»¶ä¼¸æ¨™è¨˜å¼èªè¨€
- ç¶²é çˆ¬èŸ² Webscraping
- API (Application programming interfaces)
- JSONæ ¼å¼æª”æ¡ˆ



Open Data é–‹æ”¾è³‡æ–™
====================================
type:sub-section
- 2011å¹´æ¨å‹•é–‹æ”¾æ”¿åºœèˆ‡é–‹æ”¾è³‡æ–™ ([ç¶­åŸºç™¾ç§‘](https://zh.wikipedia.org/wiki/%E9%96%8B%E6%94%BE%E8%B3%87%E6%96%99))
- ä¸å—è‘—ä½œæ¬Šã€å°ˆåˆ©æ¬Šï¼Œä»¥åŠå…¶ä»–ç®¡ç†æ©Ÿåˆ¶æ‰€é™åˆ¶ï¼Œä»»ä½•äººéƒ½å¯ä»¥è‡ªç”±å‡ºç‰ˆä½¿ç”¨
- å¸¸è¦‹çš„å„²å­˜æ–¹å¼ç‚º: 
    - `CSV`
    - `JSON`
    - `XML`
    
Open Data é–‹æ”¾è³‡æ–™å¸¸è¦‹å¹³å°
====================================
- [æ”¿åºœè³‡æ–™é–‹æ”¾å¹³å°](http://data.gov.tw/)
- [Data Taipei](http://data.taipei/)
- [é–‹æ”¾è³‡æ–™ x é–‹æ”¾æ¡ƒåœ’](http://data.tycg.gov.tw/)
- [å…§æ”¿è³‡æ–™é–‹æ”¾å¹³å°](http://data.moi.gov.tw/)

API
====================================
type:sub-section
- æ‡‰ç”¨ç¨‹å¼ä»‹é¢
- **A**pplication **P**rogramming **I**nterfaces
- ç‚ºäº†è®“ç¬¬ä¸‰æ–¹çš„é–‹ç™¼è€…å¯ä»¥é¡å¤–é–‹ç™¼æ‡‰ç”¨ç¨‹å¼ä¾†å¼·åŒ–ä»–å€‘çš„ç”¢å“ï¼Œæ¨å‡ºå¯ä»¥èˆ‡ç³»çµ±æºé€šçš„ä»‹é¢
- æœ‰APIè¼”åŠ©å¯å°‡è³‡æ–™æ“·å–éç¨‹è‡ªå‹•åŒ–
    -  ä»¥ä¸‹è¼‰Open Dataç‚ºä¾‹ï¼Œè‹¥æª”æ¡ˆæ›´æ–°é »ç¹ï¼Œä½¿ç”¨æ‰‹å‹•ä¸‹è¼‰ç›¸ç•¶è€—æ™‚
- [ç¶­åŸºç™¾ç§‘](https://zh.wikipedia.org/zh-tw/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3)

XML å¯å»¶ä¼¸æ¨™è¨˜å¼èªè¨€
====================================
type:sub-section

- E**x**tensible **m**arkup **l**anguage
- æè¿°**çµæ§‹åŒ–**è³‡æ–™çš„èªè¨€
- è™•ç†XMLæª”æ¡ˆæ˜¯ç¶²é **Html**çˆ¬èŸ²çš„åŸºç¤
- Components
    - Markup æ¨™è¨˜ - labels that give the text structure
    - Content å…§æ–‡ - the actual text of the document
- [XML Wiki](https://zh.wikipedia.org/wiki/XML)

XML å¯å»¶ä¼¸æ¨™è¨˜å¼èªè¨€
====================================
Tags, elements and attributes

- Tags correspond to general labels
    - Start tags `<breakfast_menu>`, `<price>`
    - End tags `</breakfast_menu>`,`</price>`
    - Empty tags `<line-break />`
- Elements are specific examples of tags
    - `<name>Belgian Waffles</name>`
- Attributes are components of the label
    - `<book category="web">`
    
XML å¯å»¶ä¼¸æ¨™è¨˜å¼èªè¨€-è®€å–
====================================
- [è‡ºåŒ—å¸‚æ°´è³ªç›£æ¸¬è³‡è¨Š](http://data.taipei/opendata/datalist/datasetMeta/download?id=961ca397-4a59-45e8-b312-697f26b059dc&rid=190796c8-7c56-42e0-8068-39242b8ec927)
- å®‰è£`XML` packageï¼ˆåªéœ€å®‰è£ä¸€æ¬¡ï¼‰
- è¼‰å…¥`XML` package
- `xmlParse()`å‡½æ•¸å°‡XMLæª”æ¡ˆåŒ¯å…¥


```r
library(XML)
waterURL<-"http://data.taipei/opendata/datalist/datasetMeta/download?id=961ca397-4a59-45e8-b312-697f26b059dc&rid=190796c8-7c56-42e0-8068-39242b8ec927"
waterQ <- xmlParse(waterURL)
```

XML å¯å»¶ä¼¸æ¨™è¨˜å¼èªè¨€-è®€å–
====================================
- è‹¥å‡ºç¾`Error: 1: Unknown IO error2: failed to load external entity`ï¼Œæ˜¯å› ç‚º`XMLå¥—ä»¶`è™•ç†httpè½‰httpsçš„åŠŸèƒ½çš„ä¸å¥½
- è¼‰å…¥`httr`å¥—ä»¶å¾Œï¼Œå…ˆä½¿ç”¨`GET()`åŠŸèƒ½å–ç”¨ç¶²å€ï¼Œå†æ”¾å…¥`xmlParse()`å°±ä¸æœƒæœ‰å•é¡Œ

```r
library(XML)
library(httr)
waterURL<-"http://data.taipei/opendata/datalist/datasetMeta/download?id=961ca397-4a59-45e8-b312-697f26b059dc&rid=190796c8-7c56-42e0-8068-39242b8ec927"
waterQ <- xmlParse(GET(waterURL))
```

XPath?
====================================
- XMLè·¯å¾‘èªè¨€ï¼ˆXML Path Languageï¼‰
- åŸºæ–¼XMLçš„æ¨¹ç‹€çµæ§‹ï¼Œæä¾›åœ¨è³‡æ–™çµæ§‹æ¨¹ä¸­æ‰¾å°‹ç¯€é»çš„èƒ½åŠ›
- [ç¶­åŸºç™¾ç§‘](https://zh.wikipedia.org/wiki/XPath)
- [ä¸­æ–‡æ•™å­¸](http://tech-marsw.logdown.com/blog/2016/01/11/parsing-lxml-xpath-sheet)
- [W3Cæ•™å­¸](https://www.w3schools.com/xml/xpath_syntax.asp)


åˆ—èˆ‰XPathå¸¸ç”¨çš„èªæ³•
====================================
```
// : å­çµé»è³‡æ–™
```
å¦‚æ‰€æœ‰é€£çµæ¨™ç±¤ //a

```
@ : å±¬æ€§è³‡æ–™
```
å¦‚æ‰€æœ‰é€£çµæ¨™ç±¤å…§çš„é€£çµç¶²å€ //a/@href

XML å¯å»¶ä¼¸æ¨™è¨˜å¼èªè¨€-è§£æ
====================================
ä½¿ç”¨`xpathSApply()`å‡½æ•¸å–å¾—æŒ‡å®šæ¨™ç±¤å…§çš„è³‡æ–™

```r
#å–å¾—æ‰€æœ‰"code_name"æ¨™ç±¤å…§çš„è³‡æ–™
xpathSApply(waterQ,"//code_name",xmlValue)[1:10]
```

```
 [1] "é›™æºªæ·¨æ°´å ´"               "è¡›ç†å¥³ä¸­"                
 [3] "é›™æºªåœ‹å°                " "è¯èˆˆåŠ å£“ç«™"              
 [5] "é•·èˆˆæ·¨æ°´å ´"               "å¸‚æ”¿å¤§æ¨“"                
 [7] "å¸‚è­°æœƒ"                   "æ·é‹å¿ å­å¾©èˆˆç«™"          
 [9] "å—æ¸¯é«˜å·¥"                 "å—æ¸¯åŠ å£“ç«™"              
```

XML å¯å»¶ä¼¸æ¨™è¨˜å¼èªè¨€-è§£æ
====================================
ä½¿ç”¨`xpathSApply()`å‡½æ•¸å–å¾—æŒ‡å®šæ¨™ç±¤å…§çš„è³‡æ–™

```r
#å–å¾—å„ç›£æ¸¬ç«™çš„ç¶“åº¦
xpathSApply(waterQ,"//longitude",xmlValue)[1:10]
```

```
 [1] "121.569433" "121.55231"  "121.563886" "121.544384" "121.547873"
 [6] "121.563997" "121.561975" "121.54342"  "121.607462" "121.616217"
```

xpathSApply vs. xpathApply
====================================
- xpathSApply: å›å‚³çš„ç‰©ä»¶æ˜¯Vector å‘é‡
- xpathApply: å›å‚³çš„ç‰©ä»¶æ˜¯List åˆ—è¡¨
- å»¶ä¼¸é–±è®€: [applyå®¶æ—ä»‹ç´¹](http://blog.bryanbigdata.com/2014/06/r-applysapplylapply.html)

XMLæª”æ¡ˆåŒ¯å…¥ç·´ç¿’
====================================
type:alert
incremental:true
- è¼‰å…¥[æ¡ƒåœ’æ·é‹è»Šç«™å‡ºå…¥å£åŸºæœ¬è³‡æ–™](http://data.tycg.gov.tw/opendata/datalist/datasetMeta/download?id=b2653545-9425-46df-9a50-74ade59ab0cf&rid=f6362ce8-719b-4752-bec6-7fd995b623fd)
- å˜—è©¦å–å¾—å„ç«™å‡ºå…¥å£æ•˜è¿°(LocationDescription)èˆ‡ç¶“ç·¯åº¦(PositionLon,PositionLat)
- åƒè€ƒå‰›å‰›çš„æ°´ç«™ç¯„ä¾‹

```r
library(XML)
waterURL<-"http://data.taipei/opendata/datalist/datasetMeta/download?id=961ca397-4a59-45e8-b312-697f26b059dc&rid=190796c8-7c56-42e0-8068-39242b8ec927"
waterQ <- xmlParse(waterURL)
xpathSApply(waterQ,"//longitude",xmlValue)[1:10]
```

XML å¯å»¶ä¼¸æ¨™è¨˜å¼èªè¨€-è®€å– xml2å¥—ä»¶
====================================
- [è‡ºåŒ—å¸‚æ°´è³ªç›£æ¸¬è³‡è¨Š](http://data.taipei/opendata/datalist/datasetMeta/download?id=961ca397-4a59-45e8-b312-697f26b059dc&rid=190796c8-7c56-42e0-8068-39242b8ec927)
- å®‰è£`xml2` package
- `read_xml()`å‡½æ•¸å°‡XMLæª”æ¡ˆåŒ¯å…¥


```r
library(xml2)
waterURL<-"http://data.taipei/opendata/datalist/datasetMeta/download?id=961ca397-4a59-45e8-b312-697f26b059dc&rid=190796c8-7c56-42e0-8068-39242b8ec927"
waterQ <- read_xml(waterURL)
```

XML å¯å»¶ä¼¸æ¨™è¨˜å¼èªè¨€-è§£æ xml2å¥—ä»¶
====================================
ä½¿ç”¨`xml_find_all()`ä»¥åŠ`xml_text()`å‡½æ•¸å–å¾—æŒ‡å®šæ¨™ç±¤å…§çš„è³‡æ–™

```r
#å–å¾—æ‰€æœ‰"code_name"æ¨™ç±¤å…§çš„è³‡æ–™
code_name_xml<-xml_find_all(waterQ, ".//code_name")
code_name<-xml_text(code_name_xml)
code_name[1:10]
```

```
 [1] "é›™æºªæ·¨æ°´å ´"               "è¡›ç†å¥³ä¸­"                
 [3] "é›™æºªåœ‹å°                " "è¯èˆˆåŠ å£“ç«™"              
 [5] "é•·èˆˆæ·¨æ°´å ´"               "å¸‚æ”¿å¤§æ¨“"                
 [7] "å¸‚è­°æœƒ"                   "æ·é‹å¿ å­å¾©èˆˆç«™"          
 [9] "å—æ¸¯é«˜å·¥"                 "å—æ¸¯åŠ å£“ç«™"              
```

XML å¯å»¶ä¼¸æ¨™è¨˜å¼èªè¨€-è§£æ xml2å¥—ä»¶
====================================
ä½¿ç”¨`xml_find_all()`ä»¥åŠ`xml_text()`å‡½æ•¸å–å¾—æŒ‡å®šæ¨™ç±¤å…§çš„è³‡æ–™

```r
#å–å¾—å„ç›£æ¸¬ç«™çš„ç¶“åº¦longitude
longitude_xml<-xml_find_all(waterQ, ".//longitude")
longitude<-xml_text(longitude_xml)
longitude[1:10]
```

```
 [1] "121.569433" "121.55231"  "121.563886" "121.544384" "121.547873"
 [6] "121.563997" "121.561975" "121.54342"  "121.607462" "121.616217"
```

JSONæ ¼å¼æª”æ¡ˆ
====================================
type:sub-section

- JSON (**J**ava**s**cript **O**bject **N**otation)
- è¼•é‡ç´šçš„è³‡æ–™äº¤æ›èªè¨€
- From **a**pplication **p**rogramming **i**nterfaces (APIs)
- JavaScriptã€Javaã€Node.jsæ‡‰ç”¨
- ä¸€äº›NoSQLè³‡æ–™åº«ç”¨JSONå„²å­˜è³‡æ–™ï¼š**MongoDB**
- [Wiki](http://en.wikipedia.org/wiki/JSON)

JSONè³‡æ–™å„²å­˜æ ¼å¼
====================================
- Numbers (double)
- Strings (double quoted)
- Boolean (_true_ or _false_)
- Array (ordered, comma separated enclosed in square brackets _[]_)
- Object (unorderd, comma separated collection of **key:value** pairs in curley brackets _{}_)

[JSONæª”æ¡ˆç¯„ä¾‹](https://api.github.com/users/yijutseng/repos)


API
====================================
type:sub-section
- æ‡‰ç”¨ç¨‹å¼ä»‹é¢
- **A**pplication **P**rogramming **I**nterfaces
- ç‚ºäº†è®“ç¬¬ä¸‰æ–¹çš„é–‹ç™¼è€…å¯ä»¥é¡å¤–é–‹ç™¼æ‡‰ç”¨ç¨‹å¼ä¾†å¼·åŒ–ä»–å€‘çš„ç”¢å“ï¼Œæ¨å‡ºå¯ä»¥èˆ‡ç³»çµ±æºé€šçš„ä»‹é¢
- æœ‰APIè¼”åŠ©å¯å°‡è³‡æ–™æ“·å–éç¨‹è‡ªå‹•åŒ–
    -  ä»¥ä¸‹è¼‰Open Dataç‚ºä¾‹ï¼Œè‹¥æª”æ¡ˆæ›´æ–°é »ç¹ï¼Œä½¿ç”¨æ‰‹å‹•ä¸‹è¼‰ç›¸ç•¶è€—æ™‚
- [ç¶­åŸºç™¾ç§‘](https://zh.wikipedia.org/zh-tw/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%8E%A5%E5%8F%A3)

API - Open Data
====================================
- [æ¡ƒåœ’å…¬å…±è‡ªè¡Œè»Šå³æ™‚æœå‹™è³‡æ–™](http://data.tycg.gov.tw/opendata/datalist/datasetMeta?oid=5ca2bfc7-9ace-4719-88ae-4034b9a5a55c)è³‡æ–™
- å³æ™‚æ›´æ–°
- ä¸å¯èƒ½æ‰‹å‹•ä¸‹è¼‰
- æä¾›é€é**API**ä¸‹è¼‰çš„æœå‹™
- é€éAPIä¸‹è¼‰çš„è³‡æ–™æ ¼å¼: **JSONæ ¼å¼**

***

- [æ¡ƒåœ’å…¬å…±è‡ªè¡Œè»Šå³æ™‚æœå‹™è³‡æ–™APIè³‡è¨Š](http://data.tycg.gov.tw/opendata/datalist/datasetMeta/outboundDesc?id=5ca2bfc7-9ace-4719-88ae-4034b9a5a55c&rid=a1b4714b-3b75-4ff8-a8f2-cc377e4eaa0f)
    - **è³‡æ–™é›†ID**: ç´€éŒ„è³‡æ–™çš„åŸºæœ¬åƒæ•¸ï¼Œå¦‚åŒ…å«æ¬„ä½ã€æ›´æ–°é »ç‡ç­‰
    - **è³‡æ–™RID**: è³‡æ–™é›†



JSONæª”æ¡ˆåŒ¯å…¥
====================================
- `jsonlite` package (å¥—ä»¶ä½¿ç”¨å‰å¿…é ˆå®‰è£)
- `fromJSON()`å‡½æ•¸è¼‰å…¥JSONè³‡æ–™
- å¦‚æœAPIç¶²å€ç‚º**https**ï¼Œå‰‡éœ€ä½¿ç”¨ `httr` package
    - ä½¿ç”¨`GET()`å‡½æ•¸è™•ç†è³‡æ–™æ“·å–ç¶²å€
- APIç¶²å€åƒè€ƒ[æ¡ƒåœ’å…¬å…±è‡ªè¡Œè»Šå³æ™‚æœå‹™è³‡æ–™APIè³‡è¨Š](http://data.tycg.gov.tw/opendata/datalist/datasetMeta/outboundDesc?id=5ca2bfc7-9ace-4719-88ae-4034b9a5a55c&rid=a1b4714b-3b75-4ff8-a8f2-cc377e4eaa0f)

```r
library(jsonlite)
library(RCurl)
APIData<-fromJSON("http://data.tycg.gov.tw/api/v1/rest/datastore/a1b4714b-3b75-4ff8-a8f2-cc377e4eaa0f?format=json")
```

JSONæª”æ¡ˆåŒ¯å…¥
====================================
- è½‰å­˜ç‚º`åˆ—è¡¨list`çš„å‹æ…‹
- å…©å€‹å­å…ƒç´ (success, result)
- resultä¸­recordså­å…ƒç´ çš„é¡åˆ¥ç‚ºè³‡æ–™æ¡†data.frame

```r
str(APIData)
```

```
List of 2
 $ success: logi TRUE
 $ result :List of 6
  ..$ resource_id: chr "a1b4714b-3b75-4ff8-a8f2-cc377e4eaa0f"
  ..$ fields     :'data.frame':	15 obs. of  2 variables:
  .. ..$ type: chr [1:15] "int4" "text" "text" "text" ...
  .. ..$ id  : chr [1:15] "_id" "sno" "sna" "tot" ...
  ..$ records    :'data.frame':	100 obs. of  15 variables:
  .. ..$ _id    : int [1:100] 1 2 3 4 5 6 7 8 9 10 ...
  .. ..$ sarea  : chr [1:100] "ä¸­å£¢å€" "ä¸­å£¢å€" "ä¸­å£¢å€" "ä¸­å£¢å€" ...
  .. ..$ sareaen: chr [1:100] "Zhongli Dist." "Zhongli Dist." "Zhongli Dist." "Zhongli Dist." ...
  .. ..$ sna    : chr [1:100] "ä¸­å¤®å¤§å­¸åœ–æ›¸é¤¨" "ä¸­å£¢é«˜ä¸­" "ä¸­æ­£å…¬åœ’(ä¸­ç¾è·¯)" "ä¸­å£¢ç«è»Šç«™(å‰ç«™)" ...
  .. ..$ aren   : chr [1:100] "No.300, Zhongda Rd." "No.215, Sec. 2, Zhongyang W. Rd. (opposite)" "No.101 to No.113, Zhongmei Rd. (opposite)" "No.139, Zhonghe Rd. (opposite)" ...
  .. ..$ sno    : chr [1:100] "2001" "2002" "2003" "2004" ...
  .. ..$ tot    : chr [1:100] "60" "52" "54" "114" ...
  .. ..$ snaen  : chr [1:100] "National Central University Library" "Jhungli Senior High School" "Zhongzheng Park" "TRA Zhongli Station (Front)" ...
  .. ..$ bemp   : chr [1:100] "39" "27" "18" "55" ...
  .. ..$ ar     : chr [1:100] "ä¸­å¤§è·¯300è™Ÿ(ä¸­å¤®å¤§å­¸æ ¡å…§åœ–æ›¸é¤¨å‰)" "ä¸­å¤®è¥¿è·¯äºŒæ®µ215è™Ÿå°é¢äººè¡Œé“" "ä¸­ç¾è·¯101è™Ÿ-113è™Ÿå°é¢äººè¡Œé“" "ä¸­å’Œè·¯139è™Ÿå°é¢åœ“ç’°" ...
  .. ..$ act    : chr [1:100] "1" "1" "1" "1" ...
  .. ..$ lat    : chr [1:100] "24.968128" "24.960815" "24.959113" "24.953874" ...
  .. ..$ lng    : chr [1:100] "121.194666" "121.212038" "121.224805" "121.2256" ...
  .. ..$ sbi    : chr [1:100] "21" "23" "35" "56" ...
  .. ..$ mday   : chr [1:100] "20190326230838" "20190326230821" "20190326230838" "20190326230839" ...
  ..$ offset     : int 0
  ..$ total      : int 285
  ..$ limit      : int 100
```

JSONæª”æ¡ˆè§£æ
====================================
- ä½¿ç”¨`$`ç¬¦è™Ÿæˆªå–å…ƒç´ èˆ‡å­å…ƒç´ 

```r
head(APIData$result$records)
```

| _id|sarea  |sareaen       |sna              |aren                                             |sno  |tot |snaen                                    |bemp |
|---:|:------|:-------------|:----------------|:------------------------------------------------|:----|:---|:----------------------------------------|:----|
|   1|ä¸­å£¢å€ |Zhongli Dist. |ä¸­å¤®å¤§å­¸åœ–æ›¸é¤¨   |No.300, Zhongda Rd.                              |2001 |60  |National Central University Library      |39   |
|   2|ä¸­å£¢å€ |Zhongli Dist. |ä¸­å£¢é«˜ä¸­         |No.215, Sec. 2, Zhongyang W. Rd. (opposite)      |2002 |52  |Jhungli Senior High School               |27   |
|   3|ä¸­å£¢å€ |Zhongli Dist. |ä¸­æ­£å…¬åœ’(ä¸­ç¾è·¯) |No.101 to No.113, Zhongmei Rd. (opposite)        |2003 |54  |Zhongzheng Park                          |18   |
|   4|ä¸­å£¢å€ |Zhongli Dist. |ä¸­å£¢ç«è»Šç«™(å‰ç«™) |No.139, Zhonghe Rd. (opposite)                   |2004 |114 |TRA Zhongli Station (Front)              |55   |
|   5|ä¸­å£¢å€ |Zhongli Dist. |ä¸­åŸå¤§å­¸         |No.200, Zhongbei Rd.                             |2005 |82  |Chung Yuan Christian University          |44   |
|   6|ä¸­å£¢å€ |Zhongli Dist. |éŠ€æ²³å»£å ´         |No.48, Jiuhe 1st St. (opposite)                  |2006 |58  |Galaxy Square                            |22   |
|   7|ä¸­å£¢å€ |Zhongli Dist. |ä¸­å£¢å€å…¬æ‰€       |No.380, Huanbei Rd.                              |2007 |40  |Civil Affairs Office of Zhongli District |11   |
|   8|ä¸­å£¢å€ |Zhongli Dist. |æ–°æ˜æ©‹           |No.269 to No.373, Sec. 2, Yuanhua Rd. (opposite) |2008 |58  |Xinming Bridge                           |30   |

JSONæª”æ¡ˆè§£æ
====================================
åˆ†æå„é …**åœ°å€**è»Šç«™æ•¸

```r
table(APIData$result$records$sarea)
```

|Var1   | Freq|
|:------|----:|
|ä¸­å£¢å€ |   35|
|å…«å¾·å€ |    5|
|å¤§åœ’å€ |    2|
|å¤§æºªå€ |    2|
|å¹³é®å€ |    7|
|æ¡ƒåœ’å€ |   32|
|è˜†ç«¹å€ |    7|
|é¾œå±±å€ |   10|
åˆ†æå¯çŸ¥ä¸­å£¢å€è»Šç«™è¼ƒå¤š

JSONæª”æ¡ˆåŒ¯å…¥ç·´ç¿’
====================================
type:alert
incremental:true

- ç·´ç¿’ç”¨è³‡æ–™ï¼š[ã€Œè‡ºåŒ—å¸‚ä»Šæ—¥æ–½å·¥è³‡è¨Šã€APIå­˜å–](http://data.taipei/opendata/datalist/datasetMeta/outboundDesc?id=4d29818c-a3ee-425d-b88a-22ac0c24c712&rid=201d8ae8-dffc-4d17-ae1f-e58d8a95b162)
- ä½¿ç”¨æª”æ¡ˆåŒ¯å…¥**ç¯„ä¾‹**ï¼Œå°‡è³‡æ–™åŒ¯å…¥Rä¸­
    - æç¤ºï¼š**fromJSON**
- ä½¿ç”¨str()å‡½æ•¸è§€å¯ŸåŒ¯å…¥çš„è³‡æ–™
- è«‹å•ä»Šæ—¥æ–½å·¥è³‡æ–™æœ‰å¹¾ç­†è§€å¯Ÿå€¼ï¼Ÿå¹¾å€‹æ¬„ä½ï¼Ÿ

å°‡è³‡æ–™æ¡†è½‰ç‚ºJSONæ ¼å¼
====================================
- `jsonlite` package
- `toJSON()` å‡½æ•¸

```r
myjson <- toJSON(iris, pretty=TRUE)
str(myjson)
```

```
Class 'json'  chr "[\n  {\n    \"Sepal.Length\": 5.1,\n    \"Sepal.Width\": 3.5,\n    \"Petal.Length\": 1.4,\n    \"Petal.Width\":"| __truncated__
```

ç¶²é çˆ¬èŸ² Webscraping
====================================
type:sub-section

- ä¸æ˜¯æ¯å€‹ç¶²ç«™éƒ½æä¾›API
- äººå·¥è¤‡è£½è²¼ä¸Š?!
- ç¨‹å¼åŒ–çš„æ–¹å¼æ“·å–ç¶²é è³‡æ–™: **ç¶²é çˆ¬èŸ²ï¼ˆWebscrapingï¼‰**ï¼ˆ[Webscraping Wiki](http://en.wikipedia.org/wiki/Web_scraping)ï¼‰
- å¯èƒ½è€—è²»å¾ˆå¤šç¶²é æµé‡å’Œè³‡æº ï¼å¾ˆå¯èƒ½è¢«é–IP
- åœ¨Rçš„è™•ç†è¾¦æ³•
    - ç•¶ä½œXMLæª”æ¡ˆè™•ç†åˆ†æ
    - ä½¿ç”¨`rvest` packageè¼”åŠ©


ç¶²é çˆ¬èŸ² Webscraping-é€è¡Œè®€å–
====================================

- ç›´æ¥é€è¡Œè®€å– `readLines()`


```r
con <- url("http://im.cgu.edu.tw/bin/home.php")
htmlCode <-readLines(con)
close(con)
htmlCode[3:5]
```

```
[1] "<head>"                                                                                                                                       
[2] "<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />"                                                                    
[3] "<meta http-equiv=\"X-UA-Compatible\" content=\"IE=EmulateIE7\" /><meta name=\"keywords\" content=\"è«‹å¡«å¯«ç¶²ç«™é—œéµè¨˜äº‹ï¼Œç”¨åŠè§’é€—è™Ÿ(,)éš”é–‹\" />"
```

ç¶²é çˆ¬èŸ² Webscraping-XMLå·¥å…·
====================================
æˆ–æ˜¯ä½¿ç”¨XMLå·¥å…·åˆ†ææ“·å–ç¶²é  (`XML` package)


```r
html <- htmlParse("http://im.cgu.edu.tw/bin/home.php")
xpathSApply(html, "//title", xmlValue)
```

```
[1] "é•·åºšå¤§å­¸ è³‡è¨Šç®¡ç†å­¸ç³» "
```

ç¶²é çˆ¬èŸ² Webscraping-é€è¡Œè®€å–
====================================
è®€å–å®Œç¶²é å¾Œï¼Œä½¿ç”¨ç”¨XMLå·¥å…·èˆ‡xpathåˆ†ææ“·å–ç¶²é  (`XML` package)

```r
xpathSApply(html, "//span[@class='ptname ']", xmlValue)
```

```
 [1] "å¤§æ•¸æ“šè³‡æ–™ç§‘å­¸èˆ‡ç”¢æ¥­æ‡‰ç”¨å­¸ç¨‹"      
 [2] "è³‡è¨Šèˆ‡é†«ç™‚å®‰å…¨å­¸ç¨‹"                
 [3] "ç‰©è¯ç¶²ç”¢æ¥­å‰µæ–°æ‡‰ç”¨å­¸ç¨‹"            
 [4] "æ©Ÿå™¨äººæ™ºèƒ½äº’å‹•èˆ‡å‰µæ–°æ‡‰ç”¨(æš‘æœŸ)å­¸ç¨‹"
 [5] "æ ¡å‹™è³‡è¨Šç³»çµ±"                      
 [6] "äººäº‹æ•™è‚²è¨“ç·´è³‡è¨Šç¶²"                
 [7] "ç•¢æ¥­æ ¡å‹ç™»éŒ„ç³»çµ±"                  
 [8] "ç¢©åšå£«è«–æ–‡ç¶²"                      
 [9] "è³‡ç®¡ç³»å°å¸«åå–®"                    
[10] "åœ‹å…§è³‡ç®¡ç³»æ‰€"                      
[11] "è³‡ç®¡ç³»åˆ†æ©Ÿè¡¨"                      
[12] "è³‡ç®¡ç³»å­¸æœƒ"                        
[13] "ç®¡ç†å­¸é™¢"                          
[14] "é†«å‹™ç®¡ç†å­¸ç³»"                      
[15] "å·¥å•†ç®¡ç†å­¸ç³»"                      
[16] "å·¥æ¥­è¨­è¨ˆå­¸ç³»"                      
[17] "ä¼æ¥­ç®¡ç†ç ”ç©¶æ‰€åšå£«ç­"              
[18] "å•†ç®¡å°ˆæ¥­å­¸é™¢"                      
[19] "é•·åºšå¤§å­¸è¡Œäº‹æ›†"                    
```

ç¶²é çˆ¬èŸ² Webscraping-rvest
====================================

è¼‰å…¥[rvest](https://github.com/hadley/rvest)å¥—ä»¶å¾Œï¼Œç¶“ç”±ä»¥ä¸‹æ­¥é©Ÿé€²è¡Œç¶²ç«™è§£æï¼š

- ä½¿ç”¨`read_html(â€œæ¬²æ“·å–çš„ç¶²ç«™ç¶²å€â€)`å‡½æ•¸è®€å–ç¶²é 
- ä½¿ç”¨`html_nodes()`å‡½æ•¸æ“·å–æ‰€éœ€å…§å®¹ (æ¢ä»¶ç‚ºCSSæˆ–xpathæ¨™ç±¤)
- ä½¿ç”¨`html_text()`å‡½æ•¸è™•ç†/æ¸…æ´—æ“·å–å…§å®¹ï¼Œç•™ä¸‹éœ€è¦çš„è³‡æ–™
- ä½¿ç”¨`html_attr()`å‡½æ•¸æ“·å–è³‡æ–™åƒæ•¸ï¼ˆå¦‚é€£çµurlï¼‰

CSS Selector èªæ³•ä»‹ç´¹
====================================
- [åƒè€ƒè³‡æ–™](https://www.w3schools.com/cssref/css_selectors.asp)
    - **.**xxxï¼šselect elements with class="xxx"
    - **#**xxxï¼šselect elements with id="xxx"
    - **[**yyy**]**ï¼šselect elements with attribute yyy
    - **[**yyy=zzz**]**ï¼šselect elements with attribute yyy="zzz"
    
ç¶²é çˆ¬èŸ² Webscraping-rvest
====================================
CSSæ¨™ç±¤æœƒå› ç¶²ç«™æ›´æ–°è®ŠåŒ–ï¼Œè‹¥ä¸‹åˆ—ç¨‹å¼ç¢¼åŸ·è¡Œæœ‰å•é¡Œï¼Œå¯è‡ªè¡Œä½¿ç”¨SelectorGadgetæ‰¾å°‹é©ç•¶çš„CSSæ¨™ç±¤

```r
library(rvest) ##è¼‰å…¥
Repoterurl<-"https://www.twreporter.org/"
Repoterhtml<-read_html(Repoterurl)
news_title <- Repoterhtml %>% 
    html_nodes(".kOkdzB") %>% html_text()
news_url <- Repoterhtml %>% 
    html_nodes(".WwRvZ a") %>% html_attr("href")
news <- data.frame(title = news_title, url=news_url)
head(news,2)
```

```
                                                       title
1               æ²™åœ°ä¸Šçš„æ€ªç¸é›»åŠ›å…¬å¸â€”â€”è¨±éœ‡å”å’Œä»–çš„å…¬æ°‘é›»å» å¤¢
2 çµ¦è¦ªæ„›çš„ç¸½çµ±â€”â€”é€™ç¾¤å¹´è¼•äººï¼Œé¸å‡ºæ­å·´é¦¬å¿…è®€çš„äººæ°‘ã€Œæ¯æ—¥åä¿¡ã€
                                         url
1          /a/green-energy-in-taishi-village
2 /a/bookreview-to-obama-jeanne-marie-laskas
```


ç¶²é çˆ¬èŸ² Webscraping-rvest
====================================
- æ“·å–æ¢ä»¶çš„æ’°å¯«æœƒå› ç¶²é èªæ³•ä¸åŒæˆ–æ›´æ–°è€Œæœ‰å·®ç•°
- ä½¿ç”¨**Google Chromeé–‹ç™¼å·¥å…·**è¼”åŠ©è§€å¯Ÿæ“·å–è³‡æ–™çš„æ¢ä»¶
    - æˆ–ä½¿ç”¨**SelectorGadget**è¼”åŠ©
    - æˆ–ä½¿ç”¨**xpath-helper**è¼”åŠ©xpathæ¨™ç±¤çš„æ“·å–
- è§€å¯Ÿéœ€è¦æ“·å–çš„è³‡æ–™æ‰€åœ¨HTMLç‰‡æ®µ
    - css classç‚º`latest-section__ItemFrame-keac6x-1 hsSyKH`

```
<div class="latest-section__ItemFrame-keac6x-1 hsSyKH"><a href="/a/opinion-new-southbound-talent-development-program-intern-problem"><div class="hover-effect__HoverEffect-sc-10n0hry-0 iRkkRY"><div class="latest-section__ImageFrame-keac6x-2 dyFjYc"><div class="img-wrapper__ImgObjectFit-clvi31-0 cprQrJ"><img alt="é»ƒå‰ç¿”ï¼æ–°å—å‘å°ˆç­ï¼Œæ‰¾å­¸ç”Ÿé‚„æ˜¯æ‰¾å»‰åƒ¹å‹åŠ›_(ç…§ç‰‡/æ•™è‚²éƒ¨é«˜æ•™å¸æä¾›)" src="https://www.twreporter.org/images/20190308150442-52ed12aed14ade917f1c273f4037daf8-mobile.jpg" srcset="https://www.twreporter.org/images/20190308150442-52ed12aed14ade917f1c273f4037daf8-mobile.jpg 800w, https://www.twreporter.org/images/20190308150442-52ed12aed14ade917f1c273f4037daf8-w400.jpg 400w" sizes="(min-width: 1024px) 199px, (min-width: 768px) 160px, 136px" style="transform: translateZ(0px);" class=""></div></div><div class="latest-section__ContentFrame-keac6x-3 nhxeb">
....
```

ç¶²é çˆ¬èŸ² DCardå¯¦ä½œ -1
====================================

```r
library(rvest) ##(çˆ¬èŸ²çµæœä¸ä»£è¡¨æœ¬äººæ„è¦‹)
DCardCGU<-"https://www.dcard.tw/f/cgu"
DCardContent<-read_html(DCardCGU)
post_title <- DCardContent %>% 
    html_nodes(".PostEntry_title_H5o4dj") %>% 
    html_text()
post_contentShort<- DCardContent %>% 
    html_nodes(".PostEntry_excerpt_2eHlNn") %>% 
    html_text()
post_author<- DCardContent %>% 
    html_nodes(".PostAuthor_root_3vAJfe") %>% 
    html_text()
```

ç¶²é çˆ¬èŸ² DCardå¯¦ä½œ -2
====================================

```r
##(çˆ¬èŸ²çµæœä¸ä»£è¡¨æœ¬äººæ„è¦‹)
post_like<- DCardContent %>% 
    html_nodes(".hlvyVg") %>% html_text()
post_url <- DCardContent %>% 
    html_nodes(".PostEntry_root_V6g0rd") %>% html_attr("href")
DCardCGU_posts <- 
    data.frame(title = post_title,
               author=post_author, 
               content=post_contentShort, 
               likeN=post_like,
               url=paste0("https://www.dcard.tw",post_url))
```

ç¶²é çˆ¬èŸ² DCardå¯¦ä½œ -3
====================================

```r
DCardCGU_posts
```

|title                                |author                            |content                                                                                                                                                                                                                                                                                                                                                                    |likeN |url                                                                           |
|:------------------------------------|:---------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----|:-----------------------------------------------------------------------------|
|è«‹åˆ¥æŠŠæ»¾ç‡™ç†±æ²¹ç›´æ¥å€’é¦¬æ¡¶             |é•·åºšå¤§å­¸                          |ä»Šå¤©ä¸­åˆï¼Œä¸çŸ¥é“å“ªå€‹å–®ä½ä½†æ‡‰è©²æ˜¯æŸå€‹é€±ï¼Œæ»¾ç‡™ç†±æ²¹ç›´æ¥æ‹¿åˆ°ç”·å»é¦¬æ¡¶å€’ï¼Œå°±ç®—ä½ å€‘æ˜¯é¡§æ…®å»šé¤˜æ¡¶å¿«æ»¿äº†ä¹Ÿä¸æ˜¯é€™æ¨£è™•ç†å§ï¼Œä¸€ä¾†æˆ‘åœ¨éš”å£ä¸Šå»æ‰€ï¼Œè½åˆ°é‚£è²éŸ³å·®é»ä»¥ç‚ºé¦¬æ¡¶çˆ†ç‚¸ï¼ŒäºŒä¾†æ²¹è€—å‘³ç›´æ¥æ·¹æ²’æ•´é–“å»æ‰€ï¼Œå·®é»åå‡ºä¾†ã€‚å°±ç®—å»šé¤˜æ¡¶æ²’æ»¿ï¼Œä½ å€‘é‚£æ»¾ç‡™çš„æ²¹å€’ä¸‹å»é‚£å¡‘è† æ¡¶ä¹Ÿå¾ˆå®¹æ˜“å‡ºäº‹å•¦ã€‚ä»Šå¤©æ‰ç¦®æ‹œäºŒï¼Œå¸Œæœ›å‰©ä¸‹å¹¾å¤©ä½ å€‘å¯ä»¥æœ‰æ›´å¥½çš„è™•ç†æ–¹å¼ï¼Œå¤šæº–å‚™å¹¾å€‹é‹å­è®“æ²¹æœ‰æ™‚é–“å¯ä»¥ç¨å¾®å†·å»ä¹‹é¡çš„ï¼Œæ„Ÿè¬ã€‚ |27    |https://www.dcard.tw/f/cgu/p/230961859-è«‹åˆ¥æŠŠæ»¾ç‡™ç†±æ²¹ç›´æ¥å€’é¦¬æ¡¶               |
|é¸æ“‡é¡Œç­”æ¡ˆå”¸25åˆ†é˜?                  |é•·åºšå¤§å­¸ é›»å­å·¥ç¨‹å­¸ç³»             |é è‹±æ–‡ç‚ºåƒé£¯çš„è€å¸«ï¼Œåœ‹æ–‡çµçµå·´å·´ä¹Ÿå°±ç®—ï¼Œè‹±æ–‡æ€éº¼ä¹Ÿçµå·´...ï¼Œè½å¥¹èªªè©±æœ‰å¤ å—ä¸äº†ï¼Œæ¯æ¬¡æ—©å…«éƒ½è½åˆ°è…¦è¢‹å¾ˆæ¼²ï¼Œå”¸50é¡Œé¸æ“‡é¡Œå”¸ä»–åª½25åˆ†é˜ï¼Œä¸åŒ…åˆ®è¬›è§£ï¼Œ50é¡Œå”¸25åˆ†é˜ï¼Œ25ï¼Ÿï¼ï¼ï¼ï¼Œå°±ç­”æ¡ˆè€Œå·²ï¼Œè‘‰ç‰Oè€å¸« æˆ‘å‚»çœ¼                                                                                                                                                                        |15    |https://www.dcard.tw/f/cgu/p/230960543-é¸æ“‡é¡Œç­”æ¡ˆå”¸25åˆ†é˜ï¼Ÿ                   |
|é›»æ¢¯é»‘æš—æœŸ                           |é•·åºšå¤§å­¸                          |æˆ‘çš„æ„Ÿè¦ºå•¦ï¼Œç­‰é›»æ¢¯èŠ±çš„æ™‚é–“æ„Ÿè¦ºè·Ÿç­‰æ ¡è»Šå·®ä¸å¤šäº†...ï¼ŒçœŸçš„è¶•æ™‚é–“é€£å»å€‹å¯¦é©—å®¤é‚„è¦çˆ¬ç¬¬äºŒåº§å¥½æ¼¢å¡ä¹Ÿå¤ªç´¯...                                                                                                                                                                                                                                                                       |14    |https://www.dcard.tw/f/cgu/p/230956440-é›»æ¢¯é»‘æš—æœŸ                             |
|æ©Ÿè»Šå ´æœªæ‹”é‘°åŒ™çš„ä½                    |é•·åºšå¤§å­¸ è­·ç†å­¸ç³»                 |922-PFGçš„åŒå­¸ä½ çš„è»Šé‘°åŒ™ï¼Œåœ¨å¤§é–€å£è­¦è¡›å®¤å“¦ï¼ï¼Œæœ‰å¥½å¿ƒåŒå­¸å¹«å¿™é€ä¾†äº†ï¼Œå¿«ä¾†æ‹¯æ•‘ä½ çš„å¤§çœ¼ä»”å§ï¼                                                                                                                                                                                                                                                                                  |9     |https://www.dcard.tw/f/cgu/p/230957862-æ©Ÿè»Šå ´æœªæ‹”é‘°åŒ™çš„ä½                      |
|æ ¡å‹™ç³»çµ±ä¸èƒ½è«‹å‡                     |é•·åºšå¤§å­¸                          |é€™é€±æ˜ŸæœŸä¸€è¦è«‹å‡ï¼Œä½†æ˜¯æ˜ŸæœŸä¸€æ•´å¤©æ ¡å‹™ç³»çµ±è«‹å‡å¡«å–®çš„æ™‚å€™ï¼Œé¸å¥½æ—¥æœŸ   å°±æœƒè·³æ‰ç•«é¢ï¼Œå®Œå…¨æ²’è¾¦æ³•æŠŠå‡å–®å¡«å¯«å®Œç•¢ï¼Œæœ‰æ²’æœ‰ä»€éº¼å…¶ä»–æ–¹æ³•å¯ä»¥è«‹å‡ï¼Œè¬è¬å¤§å®¶ï¼Œç¥å¤§å®¶æœŸä¸­é †åˆ©^_^                                                                                                                                                                                                         |6     |https://www.dcard.tw/f/cgu/p/230959324-æ ¡å‹™ç³»çµ±ä¸èƒ½è«‹å‡                       |
|é•·åºšæ°´æº–ï¼Ÿï¼Ÿï¼Ÿ                       |é•·åºšå¤§å­¸                          |ä¸Šé€šè­˜èª²å¾Œé¢çš„ä¸€ç”·ä¸€å¥³ä¸€ç›´èŠå¤© è½‰é ­çªäº†næ¬¡ä¹Ÿè£æ­» æˆ‘å°±åªæ˜¯æƒ³è¦å®‰å®‰éœéœä¸Šå ‚èª²å¾ˆé›£æ‡‚ï¼Ÿï¼                                                                                                                                                                                                                                                                                      |5     |https://www.dcard.tw/f/cgu/p/230963074-é•·åºšæ°´æº–ï¼Ÿï¼Ÿï¼Ÿ                         |
|ã€Œå¡«å•å·ï¼Œå°±æœ‰æ©Ÿæœƒç²å¾—7-11ç¦®å·å–”ã€   |é•·åºšå¤§å­¸ å•†ç®¡å°ˆæ¥­å­¸é™¢ç¢©å£«å­¸ä½å­¸ç¨‹ |å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é•·åºšå¤§å­¸å•†ç®¡å°ˆæ¥­å­¸é™¢ ç¢©å£«ç”Ÿï¼Œç ”ç©¶ä¸»é¡Œç‚ºã€Œç¶²è·¯å¹³å°æ‰€æä¾›çš„é™æ™‚å¿«é€Ÿåˆ°è²¨æœå‹™ã€ï¼Œæƒ³è«‹å¤§å®¶å¹«å¿™å¡«å¯«å­¸è¡“å•å·ï¼Œç‚ºæ„Ÿè¬æ‚¨çš„ä»˜å‡ºå’Œåƒèˆ‡ï¼Œæˆ‘å€‘å°‡æŠ½å‡º12ä½æœ‰æ•ˆå•å·å¡«ç­”è€…ï¼Œæä¾›7-11ç¦®å·ï¼Œè«‹æš¸è§£ã€Œå®Œæ•´å¡«ç­”æ‰€æœ‰å¿…å¡«é¡Œã€æ˜¯æœ‰æ•ˆå•å·çš„åŸºæœ¬å¿…è¦æ¢ä»¶ã€‚è«‹ç•™ä¸‹æœ‰æ•ˆé›»å­éƒµä»¶ä¿¡ç®±ä»¥åˆ©å¾ŒçºŒé€šçŸ¥ï¼Œéå¸¸æ„Ÿè¬æ‚¨çš„å”åŠ©ã€‚                                                                          |4     |https://www.dcard.tw/f/cgu/p/230957702-ã€Œå¡«å•å·ï¼Œå°±æœ‰æ©Ÿæœƒç²å¾—7-11ç¦®å·å–”ã€     |
|çš®å¤¾éºå¤±                             |é•·åºšå¤§å­¸                          |åŒå­¸ä½ çš„çš®å¤¾éºå¤±äº†ï¼Œå¹«ä½ äº¤åˆ°åœ–æ›¸é¤¨æ«ƒå°å›‰                                                                                                                                                                                                                                                                                                                                   |3     |https://www.dcard.tw/f/cgu/p/230956973-çš®å¤¾éºå¤±                               |
|å¡ä½æ²’ç™¼çš„æ¬Šç›Šå•é¡Œåæ‡‰è¡¨å–®           |å­¸ç”Ÿæœƒå»¢æ–‡æ©Ÿå™¨                    |æˆ‘å€‘ä¸€ç›´å¿˜è¨˜è²¼ä¾†é€™è£¡ï¼Œå¤§å®¶æœ‰ä»»ä½•å•é¡Œè«‹å¡«è¡¨å–®åæ‡‰ã€‚é€™é€±å¡«å¯«æˆ‘å€‘æœƒç›¡é‡åœ¨4/10ç­ä»£å¤§æœƒå‰å®Œæˆåˆæ­¥çš„è™•ç†ã€‚                                                                                                                                                                                                                                                                       |2     |https://www.dcard.tw/f/cgu/p/230963472-å¡ä½æ²’ç™¼çš„æ¬Šç›Šå•é¡Œåæ‡‰è¡¨å–®             |
|ã€Œç”²ç´šå‹•å“¡ã€çœ‹é›»å½±å…¼æŠ½ç             |å­¸ç”Ÿæœƒå»¢æ–‡æ©Ÿå™¨                    |å°±åœ¨ä»Šå¤©æ™šä¸Šï¼Œåšå¤ªé™½èŠ±å­¸é‹å£è¿°å²çš„è¬æ˜‡ä½‘è€å¸«ä¾†æ˜ å¾Œåº§è«‡ï¼Œä¸­æ¸¯è‡ºæ°‘ä¸»åŒ–å½±å±•å€’æ•¸ç¬¬ä¸‰å ´ï¼ŒåƒåŠ å…©å ´å°±å¯ä»¥æŠ½çï¼Œï¼ˆçé …è«‹é—œæ³¨ç²‰å°ˆçš„æŸç¯‡æ–‡ï¼‰ï¼Œ-ï¼Œï½œä¸­æ¸¯å°æ°‘ä¸»åŒ–å½±å±•ç¬¬å››å ´æ¬¡å³å°‡æ’­æ˜ ã€Šå¤ªé™½ï¼Œä¸é ã€‹ï¼Œä¸¦é‚€è«‹è¬æ˜‡ä½‘è€å¸«é€²è¡Œæ˜ å¾Œåº§è«‡ï¼Œ20190326æ˜ŸæœŸäºŒæ™šä¸Š1830é–‹å§‹ï¼Œé•·åºšå¤§å­¸åœ–æ›¸é¤¨äº”æ¨“æ”¾æ˜ å®¤ã€‚ï½œ                                                                                            |2     |https://www.dcard.tw/f/cgu/p/230962861-ã€Œç”²ç´šå‹•å“¡ã€çœ‹é›»å½±å…¼æŠ½ç               |
|æ“šå¾·6æ¨“æ­£åœ¨æ‰“éº»å°‡çš„äºº                |é•·åºšå¤§å­¸ é†«å­¸ç³»                   |å®‰éœä¸€é»å¥½å—æ“ï¼Œå†é‚£éº¼åµä¸‹æ¬¡ç›´æ¥æ‰¾èˆç›£ç™»é–€æ‹œè¨ªï¼Œæ›´ ï¼š èˆç›£æ˜¯æˆ‘æ‰¾çš„æ­<3                                                                                                                                                                                                                                                                                                     |15    |https://www.dcard.tw/f/cgu/p/230953012-æ“šå¾·6æ¨“æ­£åœ¨æ‰“éº»å°‡çš„äºº                  |
|ä»–åª½çš„å¸è¸ä»”                         |é•·åºšå¤§å­¸                          |ä¹¾ å®¿èˆä¸€å †å¸è¸ä»”ï¼Œè¦æŠ½å»å¤–é¢æŠ½å¾ˆé›£ï¼Œç¥åœ¨å®¿èˆæŠ½ç…™çš„äººé€šé€šæ­»å…‰å…‰                                                                                                                                                                                                                                                                                                            |22    |https://www.dcard.tw/f/cgu/p/230952613-ä»–åª½çš„å¸è¸ä»”                           |
|åˆ°åº•èª°å«æˆ‘æŠŠå­©å­é¡§å¥½                 |é•·åºšå¤§å­¸                          |åˆ°åº•èª°å«æˆ‘æŠŠå­©å­é¡§å¥½ï¼Œç‚ºä»€éº¼è¦é€™æ¨£å­ï¼Ÿ                                                                                                                                                                                                                                                                                                                                     |7     |https://www.dcard.tw/f/cgu/p/230952291-åˆ°åº•èª°å«æˆ‘æŠŠå­©å­é¡§å¥½                   |
|æ“šå¾·èŠçˆ¾å¯Œç”·åº—å“¡                     |é•·åºšå¤§å­¸                          |é•·åºšèœã„å•ä¸€ä¸‹ï¼Œä»–æ˜¯ä¸æ˜¯å¾ˆå¸¸æ‰¾éŒ¯éŒ¢é˜¿....ï¼Œæ‰¾äº”ç™¾æ‰¾æˆä¸€ç™¾å¡Šï¼Œå…©ç¨®éˆ”ç¥¨æœ‰é•·é€™éº¼åƒå—ï¼Ÿ                                                                                                                                                                                                                                                                                         |18    |https://www.dcard.tw/f/cgu/p/230951779-æ“šå¾·èŠçˆ¾å¯Œç”·åº—å“¡                       |
|crypto tabæŒ–ç¤¦                       |é•·åºšå¤§å­¸                          |å¤§å®¶å¥½ï¼Œå‰é™£å­ç ”ç©¶äº†ä¸€ä¸‹è™›æ“¬è²¨å¹£æŒ–ç¤¦ç™¼ç¾ï¼Œcrypto tabä¸éŒ¯ç”¨ä¹Ÿæœ‰æˆåŠŸå‡ºé‡‘åŸºæœ¬ä¸Šé›»è…¦ä¸ç”¨çš„æ™‚å€™æ”¾è‘—å°±å¯ä»¥äº†ï¼Œå®˜ç¶²é€£çµï¼Œå‡ºé‡‘ç´€éŒ„ï¼Œå¦å¤–æˆ‘è‡ªå·±æœ‰å¯«ç›¸é—œçš„èªªæ˜ä¸æœƒç”¨çš„åŒå­¸å¤§å®¶å¯ä»¥çœ‹çœ‹                                                                                                                                                                                               |18    |https://www.dcard.tw/f/cgu/p/230949663-crypto-tabæŒ–ç¤¦                         |
|æˆ‘ä»¥ç‚ºé€™åœ¨é•·åºšå¾ˆå¸¸ç™¼ç”Ÿï¼Ÿ             |é•·åºšå¤§å­¸                          |é€™åœ¨å˜‰å¤§å¯ä»¥ä¸Šæ–°è...ï¼Œé‚£é•·åºšä¸å°±å¤©å¤©ä¸Šï¼Ÿå“¦å°ä¸èµ·æˆ‘å¿˜è¨˜é•·åºšæœƒå£“æ–°èï¼Ÿp.s.å–®ç´”çµ¦å¤§å®¶çœ‹çœ‹ç¬‘ç¬‘åˆ†äº«ï¼Œå‹¿æˆ°ï¼Œä½†é–‹æ”¾è¨è«–ï¼ˆï¼Ÿ                                                                                                                                                                                                                                                      |67    |https://www.dcard.tw/f/cgu/p/230938792-æˆ‘ä»¥ç‚ºé€™åœ¨é•·åºšå¾ˆå¸¸ç™¼ç”Ÿï¼Ÿ               |
|æ·±è€•å¿—å·¥æ‹›å‹Ÿå…§å®¹ç•°å‹•                 |é•·åºšå¤§å­¸                          |ä¸å¥½æ„æ€ï¼ ä¹‹å‰åŸæ–‡æ‰€å¯«çš„å…¬å…±æ™‚æ•¸æœ‰ç•°å‹•ï¼Œé€™æ¬¡æ˜¯""æœå‹™å­¸ç¿’""æ™‚æ•¸å–”ï¼ï¼ï¼ï¼Œå¦‚æœä¹‹å‰å¡«å¯«è¡¨å–®çš„åŒå­¸æ˜¯è¦é ˜å…¬å…±æ™‚æ•¸ï¼Œå¯ä»¥ç§è¨Šç²‰å°ˆå–æ¶ˆå ±åå–”ï¼ï¼Œç‰¹å‹¤éšŠæ‹›å‹Ÿ04/08 ï¼ˆæ˜ŸæœŸä¸€ï¼‰ æ·±è€•çš„å¿—å·¥ï¼Œï¸13ï¼š00-15ï¼š00 æ–¼æ´»ä¸‰å ´åœ°å¸ƒç½®                                                                                                                                                               |1     |https://www.dcard.tw/f/cgu/p/230937649-æ·±è€•å¿—å·¥æ‹›å‹Ÿå…§å®¹ç•°å‹•                   |
|ç†±éŸ³ç¤¾484ä¸æœƒé—œé–€å•Š                  |é•·åºšå¤§å­¸                          |æ•´å€‹åºšæ–°éƒ½ä½ å€‘çš„è²éŸ³ï¼Œé—œä¸€ä¸‹é–€å•¦ æ‹œè¨—                                                                                                                                                                                                                                                                                                                                      |20    |https://www.dcard.tw/f/cgu/p/230936784-ç†±éŸ³ç¤¾484ä¸æœƒé—œé–€å•Š                    |
|è€³ç’°æ‰äº†                             |é•·åºšå¤§å­¸                          |æ‡‰è©²æ˜¯è€³ç’°å§ï¼Œç®¡é™¢3æ¨“é›»è…¦æ•™å®¤3ï¼Œ3æ’4åˆ— å‰åˆ°å¾Œå·¦åˆ°å³ï¼Œæ”¾åœ¨æ¡Œä¸Šå–”                                                                                                                                                                                                                                                                                                            |4     |https://www.dcard.tw/f/cgu/p/230935148-è€³ç’°æ‰äº†                               |
|è«‹ç›Šç•¢æ—…é‡‘å…¸æ—…è¡Œç¤¾                   |é•·åºšå¤§å­¸                          |æˆ‘åœ¨ç¶²è·¯ä¸Šçœ‹åˆ°è »å¤šäººé»‘ç‰¹é‡‘å…¸ï¼Œä½†ä¹Ÿæœ‰å¥½è©• è©•åƒ¹å¾ˆå…©æ¥µï¼Œæˆ‘è‡ªå·±æ˜¯æœ‰å’Œä»–å€‘æ¥­å‹™æ¥æ´½ï¼Œå€‹äººè¦ºå¾—æ¥­å‹™çµ¦çš„æ„Ÿè¦ºå¾ˆå¥½ æ…‹åº¦èªçœŸä¹Ÿå¾ˆç©æ¥µï¼Œè¡Œç¨‹æˆ‘æ˜¯å®¢è£½åŒ– å¹¾ä¹éƒ½æ˜¯ç©çš„ç‚ºä¸»ï¼Œä½†å¤ªå¤šäººé»‘ç‰¹é€™é–“äº†ï¼Œæœ‰é»çŒ¶è±«ï¼Œè½èªªä»Šå¹´ä¸­é†«ç³»çµ¦é‡‘å…¸æ—…è¡Œç¤¾çš„äº®äº®å¸¶                                                                                                                                                |17    |https://www.dcard.tw/f/cgu/p/230933158-è«‹ç›Šç•¢æ—…é‡‘å…¸æ—…è¡Œç¤¾                     |
|æ‹”é¬å­æ‹”å¾ˆçˆ½ï¼Ÿï¼ˆæœ‰åœ–æ…å…¥ï¼‰           |é•·åºšå¤§å­¸ é†«å­¸ç³»                   |ä¸éœ€è¦åœ¨å»æ‰€éš”é–“ç‚«è€€è‡ªå·±çš„é¬å­å“¦ğŸ¤—ï¼Œ@ä¸€é†«7Få¾®å…å¯¦é©—å®¤æ—å»æ‰€                                                                                                                                                                                                                                                                                                                 |11    |https://www.dcard.tw/f/cgu/p/230929628-æ‹”é¬å­æ‹”å¾ˆçˆ½ï¼Ÿï¼ˆæœ‰åœ–æ…å…¥ï¼‰             |
|è€³æ©Ÿéºå¤±                             |é•·åºšå¤§å­¸ é›»å­å·¥ç¨‹å­¸ç³»             |æœ‰äººæ’¿åˆ°é€™ç¨®è€³æ©Ÿå— æœ‰çš„è©±é€åˆ°æ˜å¾·ä¸€æ¨“è¬è¬                                                                                                                                                                                                                                                                                                                                  |5     |https://www.dcard.tw/f/cgu/p/230926754-è€³æ©Ÿéºå¤±                               |
|æœ‰ä¸€å€‹å°ç”Ÿå‘½åœ¨è—´å¾·æ¨“èµ°ä¸Ÿ#é™„åœ–#å·²æ‰¾åˆ° |é•·åºšå¤§å­¸                          |å› çˆ²å®ƒé›¢å®¶å‡ºèµ°äº†ï¼Œæˆ‘çŸ¥é“å®¿èˆä¸èƒ½é¤Šå¯µç‰©ï¼Œä½†æ˜¯å®ƒçœŸçš„å¾ˆå¯æ†ï¼Œå·²ç¶“ä¸‰å¤©æ²’åƒé£¯äº†ã€‚å¦‚æœæœ‰ç™¼ç¾çš„è©±å¯ä»¥é€šçŸ¥æˆ‘é€™å€‹ç¬¨è›‹ä¸»äººå—ï¼Œé™„ä¸Šçƒé¾œåœ–ï¼Œæ¯”äº”åå…ƒç¡¬å¹£å¤§ä¸€é»                                                                                                                                                                                                                         |43    |https://www.dcard.tw/f/cgu/p/230925176-æœ‰ä¸€å€‹å°ç”Ÿå‘½åœ¨è—´å¾·æ¨“èµ°ä¸Ÿï¼ƒé™„åœ–ï¼ƒå·²æ‰¾åˆ° |
|å¥èº«æˆ¿å¥‡è                           |é•·åºšå¤§å­¸ è·èƒ½æ²»ç™‚å­¸ç³»             |é‹å‹•æœƒä½¿å¤§è…¦ç”¢ç”Ÿè¡€æ¸…ç´ ï¼Œè¡€æ¸…ç´ æœƒä½¿äººç”¢ç”Ÿæ„‰æ‚…çš„æ„Ÿè¦ºï¼Œä½†æˆ‘ç›¸ä¿¡èƒ½å¿µé•·åºšçš„äººå€‘éƒ½æœ‰ä¸€å®šæ°´æº–çš„inhibitionèƒ½åŠ›ï¼Œç„¶è€Œå»æœ‰äººå£“æŠ‘ä¸äº†è‡ªå·±çš„è¡€æ¸…ç´ ç›´æ¥åœ¨å¥èº«æˆ¿è£¡è¦ªè¦ªæŠ±æŠ±å‘¢ï¼ï¼Œé‚£å°åœ¨å¥èº«æˆ¿è£¡æŠ‘åˆ¶ä¸äº†è‡ªå·±è¡å‹•çš„æƒ…ä¾¶ï¼Œè¦ä¸è¦è€ƒæ…®å»å¿ƒæ¸¬é€±åšä¸€ä¸‹é‡è¡¨å‘¢ï¼Ÿ                                                                                                                                   |35    |https://www.dcard.tw/f/cgu/p/230924556-å¥èº«æˆ¿å¥‡è                             |
|é‘°åŒ™å”å°‹                             |é•·åºšå¤§å­¸ ç”Ÿç‰©é†«å­¸ç³»               |æ‰“æ“¾å¤§å®¶äº†ï¼Œå°å¼Ÿæˆ‘çš„æ‘©æ‰˜è»Šé‘°åŒ™è²Œä¼¼æ’åœ¨è»Šä¸Šå¿˜è¨˜æ‹”ï¼Œä½†å‰›å‰›å»çœ‹è»Šä¸Šæ²’æœ‰é‘°åŒ™ï¼Œè‹¥æœ‰å¥½å¿ƒäººæ’¿åˆ°ä¸€ä¸²æœ‰é»‘ç´…éˆå­çš„é‘°åŒ™éº»ç…©å¹«å¿™é€åˆ°è­¦è¡›å®¤æˆ–æ•™å®˜å®¤ï¼Œæ„Ÿæ©ï¼                                                                                                                                                                                                                             |4     |https://www.dcard.tw/f/cgu/p/230924136-é‘°åŒ™å”å°‹                               |
|ç¦ªå­¸ç¤¾ä»–åª½å‘æˆ‘éŒ¢å•Š                   |é•·åºšå¤§å­¸ é›»å­å·¥ç¨‹å­¸ç³»             |ç¦ªå­¸ç¤¾ä»–åª½å‘æˆ‘éŒ¢å•Šï¼Œç¦ªå­¸ç¤¾ä»–åª½å‘æˆ‘éŒ¢å•Šï¼Œ8000                                                                                                                                                                                                                                                                                                                               |27    |https://www.dcard.tw/f/cgu/p/230919046-ç¦ªå­¸ç¤¾ä»–åª½å‘æˆ‘éŒ¢å•Š                     |
|å¹«å®£å‚³ä¸å¦¥åˆª                         |é•·åºšå¤§å­¸                          |æ˜¯åœ¨è¿´é¾çš„è²“å’ªä¸­é€”ä¹‹å®¶+å’–å•¡å»³ï¼ˆï¼Ÿï¼‰ï¼Œé¨é’å±±è·¯ä¸‹å»å°±æ˜¯äº†å¾ˆè¿‘~ï¼Œæ¨è–¦æ„Ÿè¦ºå¾ˆå¹³åƒ¹åˆä¸é çš„è²“å’ªå’–å•¡åº—                                                                                                                                                                                                                                                                             |36    |https://www.dcard.tw/f/cgu/p/230917887-å¹«å®£å‚³ä¸å¦¥åˆª                           |
|æ˜å¾·æ¨“ æ™šä¸Šå¹æ¨‚å™¨                    |é•·åºšå¤§å­¸                          |â€¦â€¦é€£çºŒå¹å…©å¤©æœ‰å¤ åµï¼Œæˆ‘éƒ½æˆ´è€³æ©Ÿé‚„è½çš„åˆ°ä½ åœ¨å¹ï¼Œéƒ½é10.äº†èª’ï¼Œå‡ºå»å¤–é¢å¹å¥½å—ï¼Ÿæ‹œè¨—ä½                                                                                                                                                                                                                                                                                           |24    |https://www.dcard.tw/f/cgu/p/230917488-æ˜å¾·æ¨“-æ™šä¸Šå¹æ¨‚å™¨                      |
|æ·±è€•å¿—å·¥æ‹›å‹Ÿ                         |é•·åºšå¤§å­¸                          |ã€Šæ˜¥æ²³åå…«æ‹› - æ·±è€•å¿—å·¥æ‹›å‹Ÿã€‹æœå‹™å­¸ç¿’æ™‚æ•¸é‚„æ²’æ»¿æ“”å¿ƒä¸èƒ½ç•¢æ¥­å—ï¼Ÿç‰¹å‹¤éšŠçš„å¿—å·¥æ‹›å‹Ÿåˆä¾†å›‰ï¼Œç‰¹å‹¤éšŠæ‹›å‹Ÿ04/08 ï¼ˆæ˜ŸæœŸä¸€ï¼‰ æ·±è€•çš„å¿—å·¥ï¼Œï¸13ï¼š00-15ï¼š00 æ–¼æ´»ä¸‰å ´åœ°å¸ƒç½®ï¼Œï¸21ï¼š00-23ï¼š00ï¼ˆåŸå‰‡ä¸Šæ˜¯æ¼”å‡ºçµæŸå¾Œå…©å°æ™‚å…§ï¼‰å ´å¾©                                                                                                                                                                |3     |https://www.dcard.tw/f/cgu/p/230916483-æ·±è€•å¿—å·¥æ‹›å‹Ÿ                           |
|è˜Šå¾·14è­¦å ±                           |é•·åºšå¤§å­¸                          |æœ‰äººçŸ¥é“æ€éº¼äº†å—â€¦â€¦ï¼ŒéŸ¿å¥½ä¹…äº†ï¼Œè€³æœµè¦å—ä¸äº†laaaaaaaaaaa                                                                                                                                                                                                                                                                                                                     |9     |https://www.dcard.tw/f/cgu/p/230915935-è˜Šå¾·14è­¦å ±                             |
|å»ºè­°çé®®                             |é•·åºšå¤§å­¸                          |é»‘å¿ƒäº‹ä»¶è½èªªæœ‰å…·é«”äº‹è­‰å°±èƒ½è£œå„Ÿï¼Œå¿ƒè£¡æœ‰é»æƒ³æ³• è¦ºå¾—ä»¥å¾Œçµ¦é¤éƒ½é–‹è“‹çµ¦ï¼Œçé®®å¯ä»¥æŠŠè“‹å­æ”¾æ—é‚Š æœ‰éœ€è¦è“‹å­è‡ªå·±æ‹¿ä¾†è“‹ï¼Œå…ˆèƒ½ç›´æ¥çœ‹åˆ°é¤é»å…§å®¹ç‰©å“è³ªèˆ‡ä»½é‡ï¼Œæ»¾è¼ªå¼çš„çµ¦é¤æ¨¡å¼ä¹Ÿä¸éŒ¯å§ï¼Œå‡ºç¾å¤ªé›¢è­œçš„ç›´æ¥ç«‹åˆ»åæ‡‰ï¼Œå¸¸å¸¸çœ‹åˆ°çš„é¤é»ç–Šç–Šæ¨‚ çµ¦å†·é£¯ä¹Ÿèƒ½é¿å…                                                                                                                                    |63    |https://www.dcard.tw/f/cgu/p/230911679-å»ºè­°çé®®                               |
|è³‡å·¥è³‡æ¼”ä½œæ¥­å•é¡Œ                     |é•·åºšå¤§å­¸                          |å°çš„å¤–ç³»ç”Ÿï¼Œæ²’ç®¡é“è©¢å•ï¼ˆé‚Šç·£äººï¼‰ï¼Œæ˜å¾Œå¤©åˆä¸åœ¨å­¸æ ¡@@ï¼ŒåŠ©æ•™emailä¹Ÿæ²’æ‰¾åˆ°ï¼Œæƒ³å•ä¸€ä¸‹ç¨‹å¼ä½œæ¥­demoç´„æ™‚é–“ç¶²ç«™æ˜¯é‚„æ²’è²¼ä¸Šç¶²ç«™ï¼Œé‚„æ˜¯åªæ˜¯æˆ‘æ²’æ‰¾åˆ°è€Œå·²                                                                                                                                                                                                                                |9     |https://www.dcard.tw/f/cgu/p/230911511-è³‡å·¥è³‡æ¼”ä½œæ¥­å•é¡Œ                       |
|ç¥äºº æ±‚å„ä½å¤§å¤§å¹«å¿™                  |é•·åºšå¤§å­¸                          |å°‹æ‰¾ä¸€ä½èº«é«˜å¤§ç´„150-155ï¼Œä»Šå¤©æˆ´ç™½è‰²å¸½å­ï¼Œç©¿ç°è‰²é•·ç‰ˆå¯¬é¬†å¸½è¸¢çš„å¥³ç”Ÿï¼Œæœ‰äººèªè­˜å—ï¼Ÿå…ˆæ„Ÿè¬å¹«å¿™                                                                                                                                                                                                                                                                                  |38    |https://www.dcard.tw/f/cgu/p/230908623-ç¥äºº-æ±‚å„ä½å¤§å¤§å¹«å¿™                    |
|æ˜å¾·é›»å­                             |é•·åºšå¤§å­¸                          |æ˜å¾·3æ¨“é›»å­ç³»ï¼Œä¸è¦ä¸€ç›´æ‹–æ¤…å­è·Ÿæ‰“ç±ƒçƒï¼Œè¢«æª¢èˆ‰éäº†å¹¾æ¬¡ï¼Œæ‰‹å¾ˆç™¢ï¼Ÿåè²å·²ç¶“å¾ˆç³Ÿäº†é‚„è¦é€™æ¨£å•Š                                                                                                                                                                                                                                                                                    |16    |https://www.dcard.tw/f/cgu/p/230907952-æ˜å¾·é›»å­                               |
|åŒå­¸ä½ è»Šé ­ç‡ˆæ²’é—œ                     |é•·åºšå¤§å­¸ é›»æ©Ÿå·¥ç¨‹å­¸ç³»             |è½èªªé€™æ¨£æ”¾åˆ°æ˜å¤©æœƒæ²’é›»å–”ï¼Œåœ¨å­¸é¤å‰é¢                                                                                                                                                                                                                                                                                                                                       |25    |https://www.dcard.tw/f/cgu/p/230907335-åŒå­¸ä½ è»Šé ­ç‡ˆæ²’é—œ                       |
|çé®®é¤é»è£œå„Ÿæ–¹å¼                     |é•·åºšå¤§å­¸                          |åªè¦èƒ½å¤ æå‡ºå…·é«”çš„äº‹è­‰ï¼Œè€çˆ¹å°±æœƒçµ¦äºˆåˆç†çš„è£œå„Ÿã€‚è¬è¬åŒå­¸å€‘æä¾›å¯¶è²´çš„å»ºè­°ï¼Œçé®®æœƒé‡å°å•é¡Œéš¨æ™‚å†åšæ”¹é€²ã€‚è¬è¬å¤§å®¶ã€‚                                                                                                                                                                                                                                                           |27    |https://www.dcard.tw/f/cgu/p/230906879-çé®®é¤é»è£œå„Ÿæ–¹å¼                       |
|7-11ç”·åº—å“¡                           |é•·åºšå¤§å­¸                          |å¹«æˆ‘æœ‹å‹ç™¼çš„ï¼Œå¥¹ä¸å¥½æ„æ€ç™¼ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä¸å¥½æ„æ€å¹¾é»çš„ï¼Œæçš„å¾ˆåƒæˆ‘åœ¨å‘Šç™½ä¸€æ¨£ï¼Œâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”ï¼Œæœ‰äººçŸ¥é“7-11é‚£å€‹ç¬‘èµ·ä¾†å¾ˆå¯æ„›çš„ç”·åº—å“¡ï¼Œæ˜¯ä»€éº¼ç³»å—ï¼Œé‚„æ˜¯ä»–ç•¢æ¥­äº†ï¼Œä»–çš„ç©¿æ­è·Ÿæ•´å€‹äººçœ‹èµ·ä¾†éƒ½è¶…Qçš„                                                                                                                                                                           |34    |https://www.dcard.tw/f/cgu/p/230902400-7-11ç”·åº—å“¡                             |
|æ©Ÿè»Šæ”¶è²»åœè»Šå ´                       |é•·åºšå¤§å­¸                          |æƒ³å•ä¸€ä¸‹é‚£é‚Šæˆ‘çœ‹æ¯æ¬¡æ¯å¤©20å…ƒï¼Œå¦‚æœæˆ‘23ï¼š00åœé€²å» éš”å¤©15ï¼š00å‡ºä¾†ï¼Œé€™æ¨£å­æ˜¯ç®—å…©æ¬¡çš„éŒ¢å—ï¼Œå› ç‚ºå‡ºä¾†å¿˜è¨˜å¸¶å­¸ç”Ÿè­‰ï¼Œé€™éº¼æ™šå›å»åªèƒ½åœä»˜è²»é‚£é‚Šäº†                                                                                                                                                                                                                                    |3     |https://www.dcard.tw/f/cgu/p/230902126-æ©Ÿè»Šæ”¶è²»åœè»Šå ´                         |
|çé®®è€çˆ¹å›æ‡‰                         |é•·åºšå¤§å­¸                          |å„ä½åŒå­¸å€‘å¥½ï¼Œä»¥å¾Œå¦‚æœç™¼ç¾æœ‰ä»»ä½•éœ€è¦æ”¹é€²çš„åœ°æ–¹ï¼Œæ­¡è¿å¤§å®¶éƒ½å¯ä»¥ä¾†çé®®å‘< è€çˆ¹ >åæ˜ ï¼Œè¬è¬å¤§å®¶ã€‚ä»¥ä¸Š ä»£ã€Šçé®®ã€‹è€é—†è½‰é”                                                                                                                                                                                                                                                      |61    |https://www.dcard.tw/f/cgu/p/230901980-çé®®è€çˆ¹å›æ‡‰                           |
|å°é ­æ§åˆ¶å¤§é ­                         |é•·åºšå¤§å­¸                          |å¦‚é¡Œï¼Œç®¡é™¢æŸè²´ç³»ç”·ç”Ÿå€‘æ˜¯ä¸æ˜¯éƒ½å¤§é ­æ§åˆ¶ä¸äº†å°é ­å•Šï¼Œæ€éº¼é‚£éº¼æ„›ç´„ç´„ï¼Œæœ‰æƒ³éå¦ä¸€åŠå¿ƒæƒ…ï¼Ÿæ±‚æ›                                                                                                                                                                                                                                                                                   |33    |https://www.dcard.tw/f/cgu/p/230898106-å°é ­æ§åˆ¶å¤§é ­                           |


é€²éšçˆ¬èŸ²
====================================
- ç€‘å¸ƒå¼ç¶²é çˆ¬èŸ²
    - è§€å¯ŸGoogle Chrome é–‹ç™¼è€…å·¥å…·ï¼Œåœ¨Networkå…§æ‰¾åˆ°apiå‘¼å«æ–¹å¼
    - æ­é…ä½¿ç”¨RSelenium æ¨¡æ“¬ç€è¦½ç‹€æ…‹
    - æ“ä½œç¯„ä¾‹ [çˆ¬DCardå¯¦ä½œR Code](https://github.com/CGUIM-BigDataAnalysis/BigDataCGUIM/blob/master/105/RSelenium_rvest.md)


çˆ¬èŸ²ç·´ç¿’
====================================
type:alert

- [Ptt Tech_Job ç‰ˆ](https://www.ptt.cc/bbs/Tech_Job/index.html)
- è©¦è‘—çˆ¬å‡ºæ‰€æœ‰**æ¨™é¡Œ**
- çˆ¬å‡ºçš„ç¬¬ä¸‰å€‹æ¨™é¡Œæ˜¯ï¼Ÿ


ç¶²é çˆ¬èŸ² å†æƒ³æƒ³ï¼Ÿ
====================================
incremental:true

- å¦‚ä½•çˆ¬è©•è«–è·Ÿå…§æ–‡å‘¢ï¼Ÿ
- å…¶å¯¦...DCardæ˜¯æœ‰APIçš„
    - https://www.dcard.tw/_api/forums/cgu/posts
    - https://www.dcard.tw/_api/posts/228454694
    - https://www.dcard.tw/_api/posts/228454694/comments
- éš±ç§å•é¡Œ ï¼ˆ2016å¹´çš„OkCupidäº‹ä»¶ï¼‰
    - [70,000 OkCupid Users Just Had Their Data Published](https://motherboard.vice.com/en_us/article/70000-okcupid-users-just-had-their-data-published)

å…¶ä»–çˆ¬èŸ²ç›¸é—œåƒè€ƒè³‡æº
====================================
- [ç¶²è·¯çˆ¬èŸ²å¯¦ä½œ - ç”¨ r èªè¨€æ‰“é€ è‡ªå·±çš„çˆ¬èŸ²ç¨‹å¼](https://www.slideshare.net/secret/mdfHLPgvIW1kPR)
- [rvest GitHub](https://github.com/hadley/rvest)
- R Bloggers æœ‰å¾ˆå¤š[çˆ¬èŸ²ç¯„ä¾‹](http://www.r-bloggers.com/?s=Web+Scraping)ï¼ˆè‹±æ–‡ï¼‰
- [Pttçˆ¬èŸ²å¯¦ä½œ](http://bryannotes.blogspot.tw/2014/08/r-ptt-wantedsocial-network-analysis.html)
- [å¤§æ•¸å­¸å ‚ ç¶²é çˆ¬èŸ²èª²ç¨‹](http://www.largitdata.com/course_list/1)


å¾FacebookåŒ¯å…¥
====================================
type:section
- Graph API in R
- Rfacebook package

Graph API in R
====================================
type:sub-section

- åœ¨2018å¹´çš„é¢¨æ³¢å¾Œï¼ŒGraph APIè‹¥è¦ç”¨åœ¨çˆ¬å–å…¬é–‹ç²‰å°ˆï¼Œé ˆç¶“éFBå¯©æ ¸
- [Graph API](https://developers.facebook.com/docs/graph-api?locale=zh_TW)
    - æ ¹æ“šç¯©é¸æ¢ä»¶ï¼Œå›å‚³JSONæ ¼å¼çš„è³‡æ–™
- [Graph API Explorer](https://developers.facebook.com/tools/explorer/)
    - æ¸¬è©¦è³‡æ–™æ’ˆå–æ–¹æ³•å’Œçµæœ
- å¿…é ˆè¦å–å¾—è‡ªå·±çš„**access token** (å­˜å–æ¬Šæ–)
    - å¯åœ¨[Graph API Explorer](https://developers.facebook.com/tools/explorer/)è¦–çª—å³ä¸Šè§’çš„**Get Token**æŒ‰éˆ•å–å¾—
    - [å®˜æ–¹æ–‡ä»¶](https://developers.facebook.com/docs/facebook-login/access-tokens/?locale=zh_TW)


Rfacebook package
====================================
type:sub-section
åœ¨2018å¹´çš„é¢¨æ³¢å¾Œï¼ŒGraph APIè‹¥è¦ç”¨åœ¨çˆ¬å–å…¬é–‹ç²‰å°ˆï¼Œé ˆç¶“éFBå¯©æ ¸ï¼Œå› æ­¤æœ¬èª²ç¨‹ç›®å‰ç„¡æ³•ç¤ºç¯„ç²‰çµ²å°ˆé çˆ¬å–

ä½¿ç”¨ Rfacebook å–å¾— `tsaiingwen` ç²‰çµ²é çš„è³‡æ–™

```r
library(Rfacebook) #åˆæ¬¡ä½¿ç”¨é ˆå…ˆå®‰è£
token<-"your token" #å°‡tokenè¤‡è£½åˆ°æ­¤è™•
getPage("tsaiingwen", token,n = 5)
```
è‹¥ç¶“éå¯©æ ¸ï¼Œå¯å¾—ä¸‹åˆ—çµæœ

```
4 posts       from_id           from_name
1 46251501064 è”¡è‹±æ–‡ Tsai Ing-wen
2 46251501064 è”¡è‹±æ–‡ Tsai Ing-wen
3 46251501064 è”¡è‹±æ–‡ Tsai Ing-wen
4 46251501064 è”¡è‹±æ–‡ Tsai Ing-wen
```

å¾TwitteråŒ¯å…¥
====================================
type:section
- Twitter API
- rtweet package

Twitter API
====================================
- https://developer.twitter.com/en/apps
- éœ€æœ‰Twitterå¸³è™Ÿä¸¦é€šéé–‹ç™¼è€…å¯©æ ¸

rtweet package
====================================

```r
## install rtweet from CRAN
install.packages("rtweet")
## load rtweet package
library(rtweet)
```

rtweet package - token è¨­å®š
====================================

```r
library(rtweet)
create_token(
  app = "teach0309",
  consumer_key = "Wbba6ysyPKGstGAqohmtyWZOE",
  consumer_secret = "GJweDzVvXGrbjz26bHTr3d6dFI7q9gFCH98f3Ct2yk3APPWigc",
  access_token = "216362944-VbXiYOjGtENwSI6eJ9AoDK5OVvoQWlj7yIeXraGt",
  access_secret = "jnfDCvuMdxdmxswUUPPi3gomxIWZq3BTdumykLJb7GW5A")
```

```
<Token>
<oauth_endpoint>
 request:   https://api.twitter.com/oauth/request_token
 authorize: https://api.twitter.com/oauth/authenticate
 access:    https://api.twitter.com/oauth/access_token
<oauth_app> teach0309
  key:    Wbba6ysyPKGstGAqohmtyWZOE
  secret: <hidden>
<credentials> oauth_token, oauth_token_secret
---
```

rtweet package - æœå°‹hashtag
====================================

```r
## search for 1000 tweets using the northkorea hashtag
rt <- search_tweets(
  "#northkorea", n = 1000, include_rts = FALSE
)
head(rt)
```

|user_id            |status_id           |created_at          |screen_name   |
|:------------------|:-------------------|:-------------------|:-------------|
|69613737           |1110559035466629121 |2019-03-26 15:08:01 |giuliapompili |
|2189012184         |1110558901211185152 |2019-03-26 15:07:29 |HOOISJG       |
|3219357607         |1110558851286396933 |2019-03-26 15:07:17 |tscobe        |
|960913079369371649 |1110557281727451138 |2019-03-26 15:01:03 |Korea_Center  |
|960913079369371649 |1110556358666055680 |2019-03-26 14:57:23 |Korea_Center  |
|960913079369371649 |1109268178201468928 |2019-03-23 01:38:37 |Korea_Center  |

rtweet package - æœå°‹hashtag
====================================
![plot of chunk unnamed-chunk-30](07_IO-figure/unnamed-chunk-30-1.png)

rtweet package - å–å¾—è¶¨å‹¢
====================================

```r
sf <- get_trends("Japan")
head(sf)
```

|trend                 |url                                                                                                                       |promoted_content |query                                                                                         |
|:---------------------|:-------------------------------------------------------------------------------------------------------------------------|:----------------|:---------------------------------------------------------------------------------------------|
|#DOMMUNE              |http://twitter.com/search?q=%23DOMMUNE                                                                                    |NA               |%23DOMMUNE                                                                                    |
|#ç«¹å†…ã¾ã‚Šã‚„           |http://twitter.com/search?q=%23%E7%AB%B9%E5%86%85%E3%81%BE%E3%82%8A%E3%82%84                                              |NA               |%23%E7%AB%B9%E5%86%85%E3%81%BE%E3%82%8A%E3%82%84                                              |
|#åƒ•ãŒç¬‘ã†ã¨           |http://twitter.com/search?q=%23%E5%83%95%E3%81%8C%E7%AC%91%E3%81%86%E3%81%A8                                              |NA               |%23%E5%83%95%E3%81%8C%E7%AC%91%E3%81%86%E3%81%A8                                              |
|#ãƒŸãƒªã‚ªãƒ³ãƒ’ãƒƒãƒˆéŸ³æ¥½ç¥­ |http://twitter.com/search?q=%23%E3%83%9F%E3%83%AA%E3%82%AA%E3%83%B3%E3%83%92%E3%83%83%E3%83%88%E9%9F%B3%E6%A5%BD%E7%A5%AD |NA               |%23%E3%83%9F%E3%83%AA%E3%82%AA%E3%83%B3%E3%83%92%E3%83%83%E3%83%88%E9%9F%B3%E6%A5%BD%E7%A5%AD |

rtweet package - å–å¾—timeline
====================================

```r
tmls <- get_timelines(c("realDonaldTrump", "BarackObama"), n = 1000)
head(tmls)
```

|user_id  |screen_name     |text                                                                                                                                                                                                                                                                                                                         |source             |
|:--------|:---------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:------------------|
|25073877 |realDonaldTrump |â€œWhat weâ€™re seeing on Capitol Hill right now is that the Democrats are walking back any charges of Collusion against the President.â€ @ByronYork @BillHemmer Should never have been started, a disgrace!                                                                                                                      |Twitter for iPhone |
|25073877 |realDonaldTrump |Letâ€™s be clear, neither Mueller, Obama FBI, DOJ, CIA, Deep State, etc ever had good faith basis to pursue @realDonaldTrump on Russia. Russia collusion was a hoax &amp; a criminal abuse, which is why @JudicialWatch will continue to fight for truth in fed court. https://t.co/fPy1HQAeaE https://t.co/3EmcWmn34f         |Twitter for iPhone |
|25073877 |realDonaldTrump |The Mainstream Media is under fire and being scorned all over the World as being corrupt and FAKE. For two years they pushed the Russian Collusion Delusion when they always knew there was No Collusion. They truly are the Enemy of the People and the Real Opposition Party!                                              |Twitter for iPhone |
|25073877 |realDonaldTrump |Tom Fitton on @RealDonaldTrump Russia Mueller Probe: 'They've KNOWN There Was NO Collusion" And, by the way, @DevinNunes is one of the most consequential congressmen in a generation... https://t.co/okdnHB6voK                                                                                                             |Twitter for iPhone |
|25073877 |realDonaldTrump |Christmas came early this week. https://t.co/ypqkZgRkeR                                                                                                                                                                                                                                                                      |Twitter for iPhone |
|25073877 |realDonaldTrump |@realDonaldTrump Thank you Mr. PresidentğŸ‡ºğŸ‡¸ for all of your sacrifice, your hard work, and your thoughtful leadership. It means so much to us to have a President who truly cares for and represents us so faithfully. God bless you and your wonderful family. Keep up the GREAT work.
Love,
America https://t.co/jM8BYXZaBu |Twitter for iPhone |

rtweet package - å–å¾—timeline
====================================
![plot of chunk unnamed-chunk-35](07_IO-figure/unnamed-chunk-35-1.png)


rtweet package - å–å¾—followers
====================================

```r
## get user IDs of accounts following è”¡è‹±æ–‡ Tsai Ing-wen
iingwen_flw <- get_followers("iingwen", n = 1000)
## lookup data on those accounts
iingwen_flw_data <- lookup_users(iingwen_flw$user_id)
head(iingwen_flw_data)
```



rtweet packageç·´ç¿’
====================================
type:alert
incremental:true
- è¤‡è£½è€å¸«çš„Twitter access token
- ä½¿ç”¨rtweet packageå–å¾—**è”¡è‹±æ–‡ Tsai Ing-wen**(iingwen)çš„timelineï¼Œå…±50ç­†tweets
- ç¬¬ä¸€ç­†è³‡æ–™çš„retweet_countæ˜¯å¤šå°‘?
- ç¬¬äºŒç­†è³‡æ–™çš„favorite_countæ˜¯å¤šå°‘?

åƒè€ƒè³‡æ–™
====================================

[rtweetå®˜ç¶²](https://rtweet.info/)


å¾YouTubeåŒ¯å…¥
====================================
type:section
- YouTube API
- tuber package



YouTube API 
====================================
- åƒè€ƒ[Google Developer Console](https://developers.google.com/youtube/v3/getting-started) èªªæ˜ç”³è«‹ä½¿ç”¨APIçš„æ¬Šé™
- é–‹å•Ÿ**YouTube Data API v3**çš„åŠŸèƒ½
- è¨­å®šAPIé‡‘é‘°
- è¨­å®šOAuth 2.0 ç”¨æˆ¶ç«¯ ID

tuber package - ç”¨Rçˆ¬å–YouTubeè³‡æ–™
====================================
- å»ºè­°å¾GitHubå®‰è£é–‹ç™¼ç‰ˆæœ¬
- åœ¨Rä¸­ï¼Œå¯åˆ©ç”¨`devtools`å¥—ä»¶è¼•é¬†å®‰è£GitHubä¸Šçš„é–‹ç™¼ç‰ˆå¥—ä»¶
- å®‰è£å¾Œï¼Œä»é ˆè¼‰å…¥
- ä½¿ç”¨ä¸­è‹¥å‡ºç¾`Error: HTTP failure: 403`ï¼Œè¡¨ç¤ºä»Šæ—¥APIä½¿ç”¨ä¸Šé™å·²åˆ°ï¼Œæ˜å¤©è«‹æ—©

```r
#devtools::install_github("soodoku/tuber")
library(tuber)
```

tuber package - ç”¨Rçˆ¬å–YouTubeè³‡æ–™
====================================
- è‡³[Google Developer Console](https://developers.google.com/youtube/v3/getting-started)è¤‡è£½**ç”¨æˆ¶ç«¯ID**ä»¥åŠ**ç”¨æˆ¶ç«¯å¯†ç¢¼**ï¼ˆæ­¤å¯†ç¢¼å·²å¤±æ•ˆï¼Œè«‹è‡ªè¡Œç”³è«‹ï¼‰
- `yt_oauth()`å‡½æ•¸æœƒé–‹ç€è¦½å™¨ï¼Œé€éç¶²é æˆæ¬Š

```r
clientID<-"172472044544-e7t61pjh2s27nelkm9k2hd4ug9848og9.apps.googleusercontent.com"
clientKey<-"ALwGxLRX2592fSrxdviLKPCa"
yt_oauth(clientID, clientKey,token = "")
```

tuber package - å–å¾—å–®ä¸€å½±ç‰‡çµ±è¨ˆæ•¸æ“š
====================================
- éœ€è‡³YouTubeé é¢è¤‡è£½**å½±ç‰‡ID**

```r
stat<-get_stats(video_id = "GZ7EaieAXJ0")
data.frame(stat)
```
|id          |viewCount |likeCount |dislikeCount |favoriteCount |commentCount |
|:-----------|:---------|:---------|:------------|:-------------|:------------|
|GZ7EaieAXJ0 |1899787   |51272     |1163         |0             |2125         |

tuber package - å–å¾—å–®ä¸€å½±ç‰‡è³‡è¨Š
====================================
- éœ€è‡³YouTubeé é¢è¤‡è£½**å½±ç‰‡ID**

```r
detail<-get_video_details(video_id = "GZ7EaieAXJ0")
str(detail$items[[1]]$snippet)
```
```
List of 9
 $ publishedAt         : chr "2019-01-17T04:02:27.000Z"
 $ channelId           : chr "UCHfY_EOzB1i57hYLSw_rYMg"
 $ title               : chr "è”¡åº·æ°¸ x ç†ç§‘å¤ªå¤ª - è®€æ›¸äººèˆ‡ç†ç§‘äººçš„æƒ…å•†å°è«‡"
 $ description         : chr "æŠŠæƒ…ç·’å®Œæ•´åéœ²ï¼Œå°±æ˜¯å€‹æ€§ç›´ç‡ï¼Ÿ\næŠŠæƒ…ç·’éš±è—èµ·ä¾†ï¼Œå°±æ˜¯ç¤¾æœƒåŒ–çš„è¡¨ç¾ï¼Ÿ\nä»Šå¤©å¾ˆæ¦®å¹¸èˆ‡ è”¡åº·æ°¸ ä¸Šäº†ä¸€å ‚æƒ…å•†èª²\nå¿«çœ‹è®€"| __truncated__
 $ thumbnails          :List of 5
  ..$ default :List of 3
  .. ..$ url   : chr "https://i.ytimg.com/vi/GZ7EaieAXJ0/default.jpg"
  .. ..$ width : int 120
  .. ..$ height: int 90
  ..$ medium  :List of 3
  .. ..$ url   : chr "https://i.ytimg.com/vi/GZ7EaieAXJ0/mqdefault.jpg"
  .. ..$ width : int 320
  .. ..$ height: int 180
  ..$ high    :List of 3
  .. ..$ url   : chr "https://i.ytimg.com/vi/GZ7EaieAXJ0/hqdefault.jpg"
  .. ..$ width : int 480
  .. ..$ height: int 360
  ..$ standard:List of 3
  .. ..$ url   : chr "https://i.ytimg.com/vi/GZ7EaieAXJ0/sddefault.jpg"
  .. ..$ width : int 640
  .. ..$ height: int 480
  ..$ maxres  :List of 3
  .. ..$ url   : chr "https://i.ytimg.com/vi/GZ7EaieAXJ0/maxresdefault.jpg"
  .. ..$ width : int 1280
  .. ..$ height: int 720
 $ channelTitle        : chr "ç†ç§‘å¤ªå¤ª Li Ke Tai Tai"
 $ categoryId          : chr "27"
 $ liveBroadcastContent: chr "none"
 $ localized           :List of 2
  ..$ title      : chr "è”¡åº·æ°¸ x ç†ç§‘å¤ªå¤ª - è®€æ›¸äººèˆ‡ç†ç§‘äººçš„æƒ…å•†å°è«‡"
  ..$ description: chr "æŠŠæƒ…ç·’å®Œæ•´åéœ²ï¼Œå°±æ˜¯å€‹æ€§ç›´ç‡ï¼Ÿ\næŠŠæƒ…ç·’éš±è—èµ·ä¾†ï¼Œå°±æ˜¯ç¤¾æœƒåŒ–çš„è¡¨ç¾ï¼Ÿ\nä»Šå¤©å¾ˆæ¦®å¹¸èˆ‡ è”¡åº·æ°¸ ä¸Šäº†ä¸€å ‚æƒ…å•†èª²\nå¿«çœ‹è®€"| __truncated__
```

tuber package - å–å¾—å–®ä¸€å½±ç‰‡ç•™è¨€
====================================
- éœ€è‡³YouTubeé é¢è¤‡è£½**å½±ç‰‡ID**

```r
comm<-get_all_comments(video_id = "GZ7EaieAXJ0")
comm
```

|authorDisplayName |textDisplay                                        |likeCount |
|:-----------------|:--------------------------------------------------|:---------|
|ç¾½æ™¨æ€¡çŠ          |å…¶å¯¦å¤§å®¶æ‰€èªªçš„æƒ…ç·’åŒ–æ„æ€æ˜¯æ‰€æœ‰äº‹æƒ…éƒ½æ˜¯ç”¨æƒ…ç·’ä¾†è§£æ±º |0         |
|Chad X            |çœ‹åˆ°è¿™é›†è·Ÿè”¡åº·æ°¸å•†ä¸šå¹æ§~~æ„Ÿè§‰è¿™ä¸ªé¢‘é“ä¸ç”¨å†çœ‹äº†   |1         |
|Jenny Chan        |å¥½å¥½å¥‡æ€éº¼è·Ÿå°å­©è§£é‡‹ä»€éº¼æ˜¯æƒ…ç·’                     |0         |

tuber package - æœå°‹ç›¸é—œå½±ç‰‡
====================================
- è¼¸å…¥é—œéµå­—æœå°‹ç›¸é—œå½±ç‰‡

```r
search<-yt_search("ç†ç§‘å¤ªå¤ª",max_results = 10)
```



tuber package - å–å¾—é »é“å…§çš„å½±ç‰‡æ¸…å–®
====================================
- éœ€è‡³YouTubeé é¢è¤‡è£½**é »é“ID**

```r
LiKe <- list_channel_resources(
    filter = c(channel_id = 
                   "UCHfY_EOzB1i57hYLSw_rYMg"))
vids <- get_playlist_items(filter= c(playlist_id=playlist_id)) 
```
|contentDetails.videoId |contentDetails.videoPublishedAt |
|:----------------------|:-------------------------------|
|_YDD_kHCuCg            |2019-03-26T04:03:59.000Z        |
|n_zK5PPg6bw            |2019-03-20T13:00:15.000Z        |
|O3gpNqYVoj0            |2019-03-21T04:00:00.000Z        |
|cN0ZiHneU4Q            |2019-03-24T13:00:12.000Z        |
|gDuI8N36leQ            |2019-03-15T13:00:07.000Z        |
|lcP9Gbh8hKs            |2019-03-16T13:00:15.000Z        |
|QuoowVlITaw            |2019-03-14T04:00:03.000Z        |
|xHxOqJ5EM3Q            |2019-03-12T04:00:01.000Z        |
|yvsj6C0w0Ec            |2019-03-05T13:09:35.000Z        |
|W75u4Tt8Ra4            |2019-03-25T04:03:14.000Z        |
|YLQcKZd-d5k            |2019-03-02T10:05:41.000Z        |
|vHyV83OZKOE            |2019-02-28T10:00:12.000Z        |
|xQlVjj_20Gg            |2019-02-26T04:00:03.000Z        |
|esrV9pM7YQ8            |2019-02-23T13:00:05.000Z        |
|KaWkYsVZaz8            |2019-02-19T13:00:03.000Z        |
|Ni8fE-HzGi4            |2019-02-16T13:00:03.000Z        |
|mBkq_poiAd0            |2019-02-21T04:00:05.000Z        |
|TtnluzLGxgk            |2019-02-14T04:00:02.000Z        |
|n9Nuy2FWcqI            |2019-02-12T04:00:02.000Z        |
|FTmw_8cAIek            |2019-02-04T04:00:00.000Z        |
|Uur1dnJ9UZY            |2019-02-02T13:00:03.000Z        |
|I3irjNKci7I            |2019-02-05T04:00:00.000Z        |
|rfuN7LUtjRk            |2019-02-01T04:00:03.000Z        |
|3QONDGuO3n0            |2019-02-07T04:00:00.000Z        |
|QxO1GBXv1Rw            |2019-01-28T13:00:04.000Z        |
|rDHuy_CW_fc            |2019-01-29T04:05:32.000Z        |
|NPy-GuVy5J4            |2019-01-31T04:00:00.000Z        |
|qo9gLmpgO4I            |2019-01-26T13:00:14.000Z        |
|AvS5wIovCuQ            |2019-01-22T04:00:02.000Z        |
|GZ7EaieAXJ0            |2019-01-17T04:02:27.000Z        |
|yF2tLzQWyDg            |2019-01-19T04:00:02.000Z        |
|ySRR4UE0bYo            |2019-01-15T04:00:59.000Z        |
|BsDJWlSzH8U            |2019-01-12T13:00:02.000Z        |
|gU3MYK0UtOQ            |2019-01-08T09:32:29.000Z        |
|AXvd8ZteF5A            |2019-01-10T03:45:00.000Z        |
|23KqaSIib9k            |2019-01-08T03:45:00.000Z        |
|iIE43YlU4NE            |2019-01-06T13:00:11.000Z        |
|yN30ndv6_eo            |2019-01-03T03:45:00.000Z        |
|DW26tEKCEJ0            |2019-01-01T03:45:00.000Z        |
|d72TqqXQ4sU            |2018-12-29T03:45:00.000Z        |
|af8Q97JrgJk            |2018-12-27T13:00:02.000Z        |
|QQfiNNwpIwI            |2018-12-25T03:13:10.000Z        |
|0GtFuUrTf50            |2018-12-26T04:00:01.000Z        |
|0z4s-wxGnUA            |2018-12-20T03:45:02.000Z        |
|Q3BECUdgqy4            |2018-12-22T03:45:00.000Z        |
|tTPDv7TGvbA            |2018-12-18T03:45:00.000Z        |
|aRRlxfm2GvU            |2018-12-12T13:00:01.000Z        |
|AE4R4rPBUJQ            |2018-12-11T03:45:01.000Z        |
|Wl8CVBwDlRU            |2018-12-13T03:45:00.000Z        |
|FOAKxPbTNKA            |2018-12-04T03:45:00.000Z        |


tuber package - å–å¾—é »é“å…§çš„å½±ç‰‡æ¸…å–®
====================================
- éœ€è‡³YouTubeé é¢è¤‡è£½**é »é“ID**

```r
vid_ids <- 
    vids$contentDetails.videoId
vid_ids
```
```
 [1] "_YDD_kHCuCg" "n_zK5PPg6bw" "O3gpNqYVoj0" "cN0ZiHneU4Q" "gDuI8N36leQ"
 [6] "lcP9Gbh8hKs" "QuoowVlITaw" "xHxOqJ5EM3Q" "yvsj6C0w0Ec" "W75u4Tt8Ra4"
[11] "YLQcKZd-d5k" "vHyV83OZKOE" "xQlVjj_20Gg" "esrV9pM7YQ8" "KaWkYsVZaz8"
[16] "Ni8fE-HzGi4" "mBkq_poiAd0" "TtnluzLGxgk" "n9Nuy2FWcqI" "FTmw_8cAIek"
[21] "Uur1dnJ9UZY" "I3irjNKci7I" "rfuN7LUtjRk" "3QONDGuO3n0" "QxO1GBXv1Rw"
[26] "rDHuy_CW_fc" "NPy-GuVy5J4" "qo9gLmpgO4I" "AvS5wIovCuQ" "GZ7EaieAXJ0"
[31] "yF2tLzQWyDg" "ySRR4UE0bYo" "BsDJWlSzH8U" "gU3MYK0UtOQ" "AXvd8ZteF5A"
[36] "23KqaSIib9k" "iIE43YlU4NE" "yN30ndv6_eo" "DW26tEKCEJ0" "d72TqqXQ4sU"
[41] "af8Q97JrgJk" "QQfiNNwpIwI" "0GtFuUrTf50" "0z4s-wxGnUA" "Q3BECUdgqy4"
[46] "tTPDv7TGvbA" "aRRlxfm2GvU" "AE4R4rPBUJQ" "Wl8CVBwDlRU" "FOAKxPbTNKA"
```

tuber package - ä½¿ç”¨purrrå¥—ä»¶å¯¦ç¾forè¿´åœˆæ¦‚å¿µ
====================================
- `map_df(å½±ç‰‡ç·¨è™Ÿå‘é‡,å‡½æ•¸åç¨±)`æ„æŒ‡å°‡æ‰€æœ‰å½±ç‰‡çš„è³‡æ–™å…§å®¹é€ä¸€æŠ“å›

```r
library(purrr)
res<-map_df(vid_ids,get_stats)
head(res)
```

|id          |viewCount |likeCount |dislikeCount |favoriteCount |commentCount |
|:-----------|:---------|:---------|:------------|:-------------|:------------|
|_YDD_kHCuCg |57672     |2963      |69           |0             |214          |


tuber packageç·´ç¿’
====================================
type:alert
incremental:true
- å–å¾—YouTube APIç”¨æˆ¶ç«¯IDèˆ‡å¯†ç¢¼
- ä½¿ç”¨tuber packageå–å¾—**ç†ç§‘å¤ªå¤ª**(UCHfY_EOzB1i57hYLSw_rYMg)çš„å½±ç‰‡æ¸…å–®
- æ“·å–è³‡æ–™ä¸­ï¼Œç•™è¨€æ•¸æœ€å¤šçš„å½±ç‰‡IDæ˜¯?
- æ“·å–è³‡æ–™ä¸­ï¼Œè§€çœ‹æ•¸æœ€å¤šçš„å½±ç‰‡IDæ˜¯?
- è©¦è‘—æ“·å–ç•™è¨€æ•¸æœ€å¤šçš„å½±ç‰‡çš„æ‰€æœ‰ç•™è¨€å…§å®¹

åƒè€ƒè³‡æ–™
====================================

[:sweet_potato: tuber](http://soodoku.github.io/tuber/)

è³‡æ–™åŒ¯å‡º
====================================
type:section
- æ–‡å­—æª” .txt
- CSVæª” .csv
- Rç‰©ä»¶ .rds


æ–‡å­—æª” .txt write.table()
====================================
type:sub-section


```r
write.table(iris,file="iris.txt",sep=",",
            row.names = F,col.names = T)
```
- è¦åŒ¯å‡ºçš„è³‡æ–™
- `file` æª”æ¡ˆåç¨±
- `append` T/F T:åœ¨æª”æ¡ˆå¾ŒåŠ å­—ï¼ŒF:ç›´æ¥è¦†è“‹æª”æ¡ˆ (é è¨­F)
- `quote` æ˜¯å¦éœ€è¦ç”¨é›™å¼•è™Ÿå°‡å­—ä¸²åŒ…èµ· (é è¨­T)
- `sep` åˆ†éš”ç¬¦è™Ÿ (é è¨­ç©ºç™½)
- `row.names` T/F æ˜¯å¦éœ€è¦è¼¸å‡ºrow names
- `col.names` T/F æ˜¯å¦éœ€è¦è¼¸å‡ºcolumn names
- `fileEncoding` ç·¨ç¢¼è¨­å®š

write.table() ç·´ç¿’
====================================
type:alert
incremental:true

- å°‡å‰›å‰›æ“·å–çš„**ç†ç§‘å¤ªå¤ªå½±ç‰‡è©•è«–è³‡æ–™**å­˜æˆtabåˆ†éš”çš„.txtæª”æ¡ˆ

CSVæª” .csv
====================================
type:sub-section

èˆ‡`write.table()`é¡ä¼¼ï¼Œä½¿ç”¨`write.csv()`å‡½æ•¸å¯«å…¥æª”æ¡ˆ

```r
write.csv(iris,file="iris.csv",row.names = F)
```

Rç‰©ä»¶ .rds
====================================
type:sub-section

è‹¥æ˜¯è¦åœ¨Rçš„ç’°å¢ƒç¹¼çºŒä½¿ç”¨ï¼Œå»ºè­°åŒ¯å‡ºæˆRç‰©ä»¶æª”æ¡ˆ(.rds)

```r
saveRDS(iris,"iris.rds")
```

saveRDS() ç·´ç¿’
====================================
type:alert
incremental:true

- å°‡å‰›å‰›æ“·å–çš„**ç†ç§‘å¤ªå¤ªå½±ç‰‡è©•è«–è³‡æ–™**å­˜æˆRç‰©ä»¶æª”æ¡ˆ(.rds)
- æ¯”è¼ƒèˆ‡txtæª”æ¡ˆå¤§å°çš„å·®ç•°

